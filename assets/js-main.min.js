const playTargetVideo=(e,t,o,s=!1,i=!1)=>{e?(e=>{e.muted=!(i&&s),e.play()})(e):o&&((e,t)=>{"vimeo"===t?(e.setMuted(!(i&&s)),e.play().catch((e=>{"PlayInterrupted"!==e.name&&console.error("Error playing video:",e)}))):"youtube"===t&&("function"==typeof e.playVideo&&"function"==typeof e.mute?(i&&s?e.unMute():e.mute(),e.playVideo()):console.warn("YouTube player not fully initialized or methods unavailable."))})(o,t)},pauseTargetVideo=(e,t,o)=>{e?(e=>{e.pause(),e.muted=!0})(e):o&&((e,t)=>{"vimeo"===t?(e.pause().catch((e=>{"PlayInterrupted"!==e.name&&console.error("Error pausing video:",e)})),e.setMuted(!0)):"youtube"===t&&("function"==typeof e.pauseVideo&&"function"==typeof e.mute?(e.pauseVideo(),e.mute()):console.warn("YouTube player not fully initialized or methods unavailable."))})(o,t)},initVideo=()=>{const e=(e,t)=>{const o=e.isIntersecting,s=t.querySelectorAll(".js-video-mute, .js-video-unmute, .js-video-play, .js-video-pause"),i=t.querySelector(".js-external-video")?.dataset.videoId;((e,t,o)=>{const s=e.querySelector("video"),i=e.querySelector(".js-external-video")?.dataset.videoHost,a=e.querySelector(".js-video-mute.is-active, .js-video-unmute.is-active"),r=a?.classList.contains("js-video-mute");(s||o)&&(t?playTargetVideo(s,i,o,r,a):pauseTargetVideo(s,i,o))})(t,o,allPlayersObj[i]),s.forEach((e=>e.classList.remove("is-active"))),o&&(t.querySelector(".js-video-unmute")?.classList.add("is-active"),t.querySelector(".js-video-pause")?.classList.add("is-active"))};document.querySelectorAll(".c-video").forEach((t=>{new IntersectionObserver((([o])=>e(o,t)),{root:null,threshold:[.4]}).observe(t)}));const t=(e,t)=>{const o=e.target.closest(`.js-video-${t}`),s=o.closest(".c-video"),i=s.querySelector("video"),a=s.querySelector(".js-external-video"),r=s.querySelector(".js-video-mute.is-active, .js-video-unmute.is-active"),l=r?.classList.contains("js-video-mute"),d=a?.dataset.videoHost,c=a?.dataset.videoId,u=allPlayersObj[c];"play"===t?playTargetVideo(i,d,u,l,r):"pause"===t?pauseTargetVideo(i,d,u):"mute"!==t&&"unmute"!==t||("youtube"===d?"function"==typeof u.unMute?u.isMuted()?u.unMute():u.mute():console.warn("YouTube player not fully initialized or methods unavailable."):"vimeo"===d?u.getMuted().then((e=>u.setMuted(!e))):i&&(i.muted="mute"===t)),"play"===t||"pause"===t?(o.classList.remove("is-active"),s.querySelector(".js-video-"+("play"===t?"pause":"play"))?.classList.add("is-active")):"mute"!==t&&"unmute"!==t||(s.querySelector(".js-video-mute")?.classList.toggle("is-active","unmute"===t),s.querySelector(".js-video-unmute")?.classList.toggle("is-active","mute"===t))};on("body","click",".js-video-mute",(e=>t(e,"mute"))),on("body","click",".js-video-unmute",(e=>t(e,"unmute"))),on("body","click",".js-video-play",(e=>t(e,"play"))),on("body","click",".js-video-pause",(e=>t(e,"pause"))),on("body","click",".js-product-hero-slider-thumbnail",(e=>{const t=".js-product-hero-slider"+(window.innerWidth<=1024?"":".is-scroll"),o=e.target.closest(t);o&&o.querySelector(".c-video")&&(o.querySelectorAll(".c-video").forEach((e=>{const t=e.querySelector("video"),o=e.querySelector(".js-external-video"),s=o?.dataset.videoHost,i=o?.dataset.videoId,a=i?allPlayersObj[i]:null;pauseTargetVideo(t,s,a),e.querySelectorAll(".js-video-mute, .js-video-unmute, .js-video-play, .js-video-pause").forEach((e=>e.classList.remove("is-active")))})),setTimeout((()=>{const e=o.querySelector(".js-slider-block.is-active .c-video");if(!e)return;const t=e.querySelector("video"),s=e.querySelector(".js-external-video"),i=s?.dataset.videoHost,a=s?.dataset.videoId,r=a?allPlayersObj[a]:null;playTargetVideo(t,i,r),e.querySelectorAll(".js-video-unmute, .js-video-pause").forEach((e=>e.classList.add("is-active")))}),100))}))},initPDP=()=>{const e=document.querySelector(".product-hero"),t=Array.from(e.querySelectorAll(".js-slider-block:not(.is-hidden)")),o=Array.from(e.querySelectorAll(".js-product-hero-slider-thumbnail:not(.is-hidden)"));reframe(".is-fade.is-natural .c-video iframe","c-video__reframe");if((()=>{const e=t[0],s=o[0];e&&(e.classList.add("is-active"),s.classList.add("is-active"))})(),!vs.isTouchDevice){setTimeout((()=>{e.classList.remove("is-interacted")}),5e3),on("body","mouseover",".js-product-hero-slider",(t=>{e.classList.add("is-interacted")})),on("body","mouseout",".js-product-hero-slider",(t=>{e.classList.remove("is-interacted")}))}let s=1;function i(e){return e.forEach((e=>{e.isIntersecting&&(s=e.target.dataset.sliderIndex)})),s}e.querySelector(".js-scroll-container.is-scroll")&&!vs.isTabletScreen&&t.forEach((e=>{const s=new IntersectionObserver((e=>{!function(e){t.forEach((t=>{t.classList.toggle("is-active",t.getAttribute("data-slider-index")===e)})),o.forEach((t=>{t.classList.toggle("is-active",t.getAttribute("data-slider-index")==e)}))}(i(e))}),{root:null,threshold:[.4]});s.observe(e)})),on("body","click",".js-product-hero-slider-thumbnail",(t=>{let o=t.target.closest(".js-product-hero-slider-thumbnail");const s=Array.from(e.querySelectorAll(".js-slider-block:not(.is-hidden)"));Array.from(e.querySelectorAll(".js-product-hero-slider-thumbnail:not(.is-hidden)")).forEach((e=>{e.classList.remove("is-active")})),o.classList.add("is-active"),s.forEach((e=>{const t=e.dataset.sliderIndex==o.dataset.sliderIndex;e.classList.toggle("is-active",t),t&&!vs.isTabletScreen&&e.scrollIntoView({behavior:"smooth"})}))})),e.querySelectorAll("model-viewer").forEach((e=>{const t={"disable-zoom":""};Object.keys(t).forEach((o=>{e.setAttribute(o,t[o])}))}))};let allPlayersObj={};window.onYouTubeIframeAPIReady=()=>{document.querySelectorAll('.js-external-video[data-video-host="youtube"]').forEach((e=>{const t=e.dataset.videoId,o=new YT.Player(e,{videoId:t,playerVars:{playsinline:1}});allPlayersObj[t]=o}))},window.addEventListener("load",(()=>{document.querySelectorAll('.js-external-video[data-video-host="vimeo"]').forEach((e=>{const t=e.dataset.videoId,o=new Vimeo.Player(e);o.on("loaded",(()=>allPlayersObj[t]=o))})),setTimeout((()=>{initVideo()}),400)}));const initHeader=()=>{const e=document.querySelectorAll("[data-menu-target]"),t=document.querySelectorAll("[data-menu-trigger]"),o=document.querySelector(".js-g-overlay"),s=()=>{t.forEach((e=>e.classList.remove("is-active"))),e.forEach((e=>e.classList.remove("is-active"))),root.classList.remove("is-megamenu-active")};on("body","click",".js-g-overlay",(()=>{s(),root.classList.remove("is-search-active")})),on("body","click","[data-menu-trigger]",(e=>{const t=e.target.closest("[data-menu-trigger]"),i=t.dataset.menuTrigger,a=document.querySelector(`[data-menu-target="${i}"]`),r=t.classList.contains("is-active");s(),!r&&a&&(t.classList.add("is-active"),a.classList.add("is-active"),root.classList.add("is-megamenu-active")),((e=!1)=>{o.setAttribute("tabindex",e?0:-1),o.setAttribute("aria-hidden",!e)})(r)}))};document.addEventListener("DOMContentLoaded",(()=>{switch(initHeader(),initVideo(),root.classList[0]){case"template-product":initPDP();break}})),ariaFocusManager.init();