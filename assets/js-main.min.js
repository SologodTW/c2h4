const playTargetVideo=(t,e,s,i=!1,o=!1)=>{t?(t=>{t.muted=!(o&&i),t.play()})(t):s&&((t,e)=>{"vimeo"===e?(t.setMuted(!(o&&i)),t.play().catch((t=>{"PlayInterrupted"!==t.name&&console.error("Error playing video:",t)}))):"youtube"===e&&("function"==typeof t.playVideo&&"function"==typeof t.mute?(o&&i?t.unMute():t.mute(),t.playVideo()):console.warn("YouTube player not fully initialized or methods unavailable."))})(s,e)},pauseTargetVideo=(t,e,s)=>{t?(t=>{t.pause(),t.muted=!0})(t):s&&((t,e)=>{"vimeo"===e?(t.pause().catch((t=>{"PlayInterrupted"!==t.name&&console.error("Error pausing video:",t)})),t.setMuted(!0)):"youtube"===e&&("function"==typeof t.pauseVideo&&"function"==typeof t.mute?(t.pauseVideo(),t.mute()):console.warn("YouTube player not fully initialized or methods unavailable."))})(s,e)},initVideo=()=>{const t=(t,e)=>{const s=t.isIntersecting,i=e.querySelectorAll(".js-video-mute, .js-video-unmute, .js-video-play, .js-video-pause"),o=e.querySelector(".js-external-video")?.dataset.videoId;((t,e,s)=>{const i=t.querySelector("video"),o=t.querySelector(".js-external-video")?.dataset.videoHost,a=t.querySelector(".js-video-mute.is-active, .js-video-unmute.is-active"),r=a?.classList.contains("js-video-mute");(i||s)&&(e?playTargetVideo(i,o,s,r,a):pauseTargetVideo(i,o,s))})(e,s,allPlayersObj[o]),i.forEach((t=>t.classList.remove("is-active"))),s&&(e.querySelector(".js-video-unmute")?.classList.add("is-active"),e.querySelector(".js-video-pause")?.classList.add("is-active"))};document.querySelectorAll(".c-video").forEach((e=>{new IntersectionObserver((([s])=>t(s,e)),{root:null,threshold:[.4]}).observe(e)}));const e=(t,e)=>{const s=t.target.closest(`.js-video-${e}`),i=s.closest(".c-video"),o=i.querySelector("video"),a=i.querySelector(".js-external-video"),r=i.querySelector(".js-video-mute.is-active, .js-video-unmute.is-active"),l=r?.classList.contains("js-video-mute"),n=a?.dataset.videoHost,c=a?.dataset.videoId,d=allPlayersObj[c];"play"===e?playTargetVideo(o,n,d,l,r):"pause"===e?pauseTargetVideo(o,n,d):"mute"!==e&&"unmute"!==e||("youtube"===n?"function"==typeof d.unMute?d.isMuted()?d.unMute():d.mute():console.warn("YouTube player not fully initialized or methods unavailable."):"vimeo"===n?d.getMuted().then((t=>d.setMuted(!t))):o&&(o.muted="mute"===e)),"play"===e||"pause"===e?(s.classList.remove("is-active"),i.querySelector(".js-video-"+("play"===e?"pause":"play"))?.classList.add("is-active")):"mute"!==e&&"unmute"!==e||(i.querySelector(".js-video-mute")?.classList.toggle("is-active","unmute"===e),i.querySelector(".js-video-unmute")?.classList.toggle("is-active","mute"===e))};on("body","click",".js-video-mute",(t=>e(t,"mute"))),on("body","click",".js-video-unmute",(t=>e(t,"unmute"))),on("body","click",".js-video-play",(t=>e(t,"play"))),on("body","click",".js-video-pause",(t=>e(t,"pause"))),on("body","click",".js-product-hero-slider-thumbnail",(t=>{const e=".js-product-hero-slider"+(window.innerWidth<=1024?"":".is-scroll"),s=t.target.closest(e);s&&s.querySelector(".c-video")&&(s.querySelectorAll(".c-video").forEach((t=>{const e=t.querySelector("video"),s=t.querySelector(".js-external-video"),i=s?.dataset.videoHost,o=s?.dataset.videoId,a=o?allPlayersObj[o]:null;pauseTargetVideo(e,i,a),t.querySelectorAll(".js-video-mute, .js-video-unmute, .js-video-play, .js-video-pause").forEach((t=>t.classList.remove("is-active")))})),setTimeout((()=>{const t=s.querySelector(".js-slider-block.is-active .c-video");if(!t)return;const e=t.querySelector("video"),i=t.querySelector(".js-external-video"),o=i?.dataset.videoHost,a=i?.dataset.videoId,r=a?allPlayersObj[a]:null;playTargetVideo(e,o,r),t.querySelectorAll(".js-video-unmute, .js-video-pause").forEach((t=>t.classList.add("is-active")))}),100))}))},initPDP=()=>{const t=document.querySelector(".product-hero"),e=Array.from(t.querySelectorAll(".js-slider-block:not(.is-hidden)")),s=Array.from(t.querySelectorAll(".js-product-hero-slider-thumbnail:not(.is-hidden)"));reframe(".is-fade.is-natural .c-video iframe","c-video__reframe");if((()=>{const t=e[0],i=s[0];t&&(t.classList.add("is-active"),i.classList.add("is-active"))})(),!vs.isTouchDevice){setTimeout((()=>{t.classList.remove("is-interacted")}),5e3),on("body","mouseover",".js-product-hero-slider",(e=>{t.classList.add("is-interacted")})),on("body","mouseout",".js-product-hero-slider",(e=>{t.classList.remove("is-interacted")}))}let i=1;function o(t){return t.forEach((t=>{t.isIntersecting&&(i=t.target.dataset.sliderIndex)})),i}t.querySelector(".js-scroll-container.is-scroll")&&!vs.isTabletScreen&&e.forEach((t=>{const i=new IntersectionObserver((t=>{!function(t){e.forEach((e=>{e.classList.toggle("is-active",e.getAttribute("data-slider-index")===t)})),s.forEach((e=>{e.classList.toggle("is-active",e.getAttribute("data-slider-index")==t)}))}(o(t))}),{root:null,threshold:[.4]});i.observe(t)})),on("body","click",".js-product-hero-slider-thumbnail",(e=>{let s=e.target.closest(".js-product-hero-slider-thumbnail");const i=Array.from(t.querySelectorAll(".js-slider-block:not(.is-hidden)"));Array.from(t.querySelectorAll(".js-product-hero-slider-thumbnail:not(.is-hidden)")).forEach((t=>{t.classList.remove("is-active")})),s.classList.add("is-active"),i.forEach((t=>{const e=t.dataset.sliderIndex==s.dataset.sliderIndex;t.classList.toggle("is-active",e),e&&!vs.isTabletScreen&&t.scrollIntoView({behavior:"smooth"})}))})),t.querySelectorAll("model-viewer").forEach((t=>{const e={"disable-zoom":""};Object.keys(e).forEach((s=>{t.setAttribute(s,e[s])}))}))};let allPlayersObj={};window.onYouTubeIframeAPIReady=()=>{document.querySelectorAll('.js-external-video[data-video-host="youtube"]').forEach((t=>{const e=t.dataset.videoId,s=new YT.Player(t,{videoId:e,playerVars:{playsinline:1}});allPlayersObj[e]=s}))},window.addEventListener("load",(()=>{document.querySelectorAll('.js-external-video[data-video-host="vimeo"]').forEach((t=>{const e=t.dataset.videoId,s=new Vimeo.Player(t);s.on("loaded",(()=>allPlayersObj[e]=s))})),setTimeout((()=>{initVideo()}),400)}));const initMatch=()=>{document.querySelectorAll("[data-target]:not(.is-active)").forEach((t=>{t.setAttribute("aria-hidden",!0)})),on("body","click","[data-trigger]",(t=>{!function(t){getSiblings(t).forEach((t=>{t.classList.remove("is-active")})),t.classList.add("is-active");let e=document.querySelectorAll(`[data-target="${t.dataset.trigger}"]`);e&&e?.length>0&&e.forEach((t=>{getSiblings(t).forEach((t=>{t.classList.remove("is-active"),t.setAttribute("aria-hidden",!0)})),t.classList.add("is-active"),t.setAttribute("aria-hidden",!1)}))}(t.target.closest("[data-trigger]"))}))};class ComponentAccordion extends HTMLElement{constructor(){super()}connectedCallback(){this.addEventListener("click",this.handleClick)}disconnectedCallback(){this.removeEventListener("click",this.handleClick)}handleClick(t){const e=t.target.closest(".js-accordion-toggle");if(e){const t=e.closest(".c-accordion"),s=t.classList.contains("is-close-siblings");this.toggleAccordion(t,s)}}toggleAccordion(t,e){const s=t.querySelector(".js-accordion-content");e&&getSiblings(t).forEach((t=>{t.classList.contains("is-active")&&this.toggleAccordion(t,!1)})),t.classList.toggle("is-active"),t.classList.contains("is-active")?(t.setAttribute("aria-expanded",!0),s.setAttribute("aria-hidden",!1),s.style.height=`${s.querySelector("div").offsetHeight}px`):(t.setAttribute("aria-expanded",!1),s.setAttribute("aria-hidden",!0),s.style.height="0px")}}customElements.define("c-accordion",ComponentAccordion);class ComponentSlider extends HTMLElement{constructor(){super(),this.viewportNode=this.querySelector(".js-embla-viewport"),this.prevButtonNode=this.querySelector(".js-embla-button-prev"),this.nextButtonNode=this.querySelector(".js-embla-button-next"),this.dotsNode=this.querySelector(".js-embla-dots"),this.progressNode=this.querySelector(".js-progress-bar"),this.isVertical="true"===this.dataset.emblaVertical,this.enableSync="true"===this.dataset.emblaSync,this.enableWheel="true"===this.dataset.emblaWheel,this.enableFade="true"===this.dataset.emblaFade,this.enableAutoHeight="true"===this.dataset.emblaAutoHeight,this.enableAutoplay="true"===this.dataset.emblaAutoplay;const t=this.hasAttribute("data-embla-delay")?parseInt(this.dataset.emblaDelay):4e3,e=EmblaCarouselAutoplay({playOnInit:this.enableAutoplay,delay:t,stopOnInteraction:!1,stopOnMouseEnter:!0});this.enableAutoScroll="true"===this.dataset.emblaAutoScroll;const s=this.hasAttribute("data-embla-scroll-speed")?parseInt(this.dataset.emblaScrollSpeed):2,i=this.hasAttribute("data-embla-scroll-delay")?parseInt(this.dataset.emblaScrollDelay):0,o="true"===this.dataset.emblaScrollBackward?"backward":"forward",a=EmblaCarouselAutoScroll({playOnInit:this.enableAutoScroll,speed:s,startDelay:i,direction:o,stopOnInteraction:!1,stopOnMouseEnter:!1}),r=[EmblaCarouselClassNames(),...this.enableWheel?[EmblaCarouselWheelGestures()]:[],...this.enableAutoplay?[e]:[],...this.enableAutoScroll?[a]:[],...this.enableFade?[EmblaCarouselFade()]:[],...this.enableAutoHeight?[EmblaCarouselAutoHeight()]:[]],l={axis:this.isVertical?"y":"x",...JSON.parse(this.dataset.emblaSlider.replace(/'/g,'"').trim())};vs.isTouchDevice&&this.closest(".s-data__blocks")&&(l.watchDrag=!1),this.embla=EmblaCarousel(this.viewportNode,l,r),this.slideNodes=this.embla.slideNodes(),1===this.slideNodes.length&&(this.classList.add("is-inactive"),this.embla.destroy())}connectedCallback(){this.initializeNavigation()}addTogglePrevNextBtnsActive=(t,e,s)=>{const i=()=>{t.canScrollPrev()?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled"),t.canScrollNext()?s.removeAttribute("disabled"):s.setAttribute("disabled","disabled")};return t.on("select",i).on("init",i).on("reInit",i),()=>{e.removeAttribute("disabled"),s.removeAttribute("disabled")}};addPrevNextBtnsClickHandlers=(t,e,s)=>{const i=()=>{t.scrollPrev()},o=()=>{t.scrollNext()};e.addEventListener("click",i,!1),s.addEventListener("click",o,!1);const a=this.addTogglePrevNextBtnsActive(t,e,s);return()=>{a(),e.removeEventListener("click",i,!1),s.removeEventListener("click",o,!1)}};addDotBtnsAndClickHandlers=(t,e)=>{let s=[];const i=()=>{e.innerHTML=t.scrollSnapList().map(((t,e)=>`<button class="embla__dot c-slider__dot increase-target-size" type="button" data-trigger-sync=${e}></button>`)).join("");s=Array.from(e.querySelectorAll(".embla__dot")),s.forEach(((e,s)=>{e.addEventListener("click",(()=>(e=>{t.scrollTo(e)})(s)),!1)}))},o=()=>{const e=t.previousScrollSnap(),i=t.selectedScrollSnap();s[e].classList.remove("is-active"),s[i].classList.add("is-active")};return t.on("init",i).on("reInit",i).on("init",o).on("reInit",o).on("select",o),()=>{e.innerHTML=""}};setupProgressBar=(t,e)=>({applyProgress:()=>{const s=Math.max(0,Math.min(1,t.scrollProgress()));e.style.transform=`translate3d(${100*s}%,0px,0px)`},removeProgress:()=>{e.removeAttribute("style")}});syncSliderWithTrigger=()=>{};initializeNavigation=()=>{if(1!==this.slideNodes.length){if(this.prevButtonNode&&this.nextButtonNode){const t=this.addPrevNextBtnsClickHandlers(this.embla,this.prevButtonNode,this.nextButtonNode);this.embla.on("destroy",t)}if(this.progressNode){const{applyProgress:t,removeProgress:e}=this.setupProgressBar(this.embla,this.progressNode);this.embla.on("init",t).on("reInit",t).on("scroll",t).on("slideFocus",t).on("destroy",e)}if(this.dotsNode){const t=this.addDotBtnsAndClickHandlers(this.embla,this.dotsNode);this.embla.on("destroy",t)}this.enableSync&&(this.embla.on("select",(()=>{const t=this.dotsNode.querySelector(".c-slider__dot.is-active"),e=t.closest(".js-slider-sync");if(t){const s=e.querySelector(`[data-trigger="${t.dataset.triggerSync}"]`),i=e.querySelector(`[data-target="${t.dataset.triggerSync}"]`);getSiblings(s).forEach((t=>{t.classList.remove("is-active")})),getSiblings(i).forEach((t=>{t.classList.remove("is-active")})),s.classList.add("is-active"),i.classList.add("is-active"),s.parentElement&&(s.parentElement.scrollLeft=s.offsetLeft-40)}})),on("body","click",".js-slider-sync [data-trigger]",(t=>{const e=t.target.closest("[data-trigger]").dataset.trigger;this.embla.scrollTo(parseInt(e))})))}}}customElements.define("c-slider",ComponentSlider);class GlobalLightbox{constructor(){this.lightboxElement=document.querySelector(".js-lightbox-content"),this.lightboxHeader=document.querySelector(".js-lightbox-header"),this.currentIndex=0,this.images=[],this.isOpen=!1,this.fadeTimeout=null,this.init()}init(){document.addEventListener("click",(t=>{t.target.closest(".js-lightbox-trigger")&&(t.preventDefault(),this.handleTriggerClick(t.target.closest(".js-lightbox-trigger")))})),document.addEventListener("keydown",(t=>{if(this.isOpen)switch(t.key){case"Escape":this.close();break;case"ArrowLeft":this.prev();break;case"ArrowRight":this.next();break}}))}handleTriggerClick(t){const e=t.closest(".js-lightbox-trigger-parent");this.lightboxAction=e.querySelector(".js-lightbox-action"),this.lightboxTitle=e.querySelector(".js-lightbox-title");const s=e.querySelectorAll(".js-lightbox-trigger");this.images=[],s.forEach(((e,s)=>{const i=e.querySelector("img");i&&(this.images.push({src:i.dataset.src,srcset:i.dataset.srcset||"",alt:i.alt||"",index:s}),e===t&&(this.currentIndex=s))})),this.images.length>0&&this.open()}addSwipeListeners(){let t=0,e=0;const s=e=>{t=e.changedTouches[0].screenX},i=t=>{e=t.changedTouches[0].screenX,o()},o=()=>{const s=e-t;Math.abs(s)>50&&(s>0?this.prev():this.next())},a=this.lightboxElement.querySelector(".g-lightbox__main");a&&(a.addEventListener("touchstart",s,{passive:!0}),a.addEventListener("touchend",i,{passive:!0})),this.removeSwipeListeners=()=>{a&&(a.removeEventListener("touchstart",s),a.removeEventListener("touchend",i))}}open(){this.isOpen=!0,this.render(),this.addSwipeListeners(),root.classList.add("is-lightbox-active"),scrollDisable()}close(){this.isOpen=!1,root.classList.remove("is-lightbox-active"),scrollEnable(),this.removeSwipeListeners&&this.removeSwipeListeners(),setTimeout((()=>{this.isOpen||(this.lightboxElement.innerHTML="",this.lightboxHeader.textContent="")}),300)}next(){this.images.length<=1||(this.currentIndex=(this.currentIndex+1)%this.images.length,this.updateImage())}prev(){this.images.length<=1||(this.currentIndex=0===this.currentIndex?this.images.length-1:this.currentIndex-1,this.updateImage())}goToSlide(t){t>=0&&t<this.images.length&&(this.currentIndex=t,this.updateImage())}updateImage(){const t=this.lightboxElement.querySelector(".g-lightbox__image"),e=this.lightboxElement.querySelectorAll(".js-lightbox-thumbnail");t&&(t.style.opacity="0",this.fadeTimeout&&clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout((()=>{const e=this.images[this.currentIndex];t.src=e.src,e.srcset&&(t.srcset=e.srcset),t.alt=e.alt,t.style.opacity="1"}),150)),e.forEach(((t,e)=>{t.classList.toggle("is-active",e===this.currentIndex)}))}render(){const t=this.images[this.currentIndex];this.lightboxHeader.textContent=this.lightboxTitle.textContent,this.lightboxElement.innerHTML=`\n\t\t\t${this.images.length>1?`\n\t\t\t\t<div class="g-lightbox__sidebar g g-4">\n\t\t\t\t\t${this.images.map(((t,e)=>`\n\t\t\t\t\t\t<button class="g-lightbox__thumbnail js-lightbox-thumbnail ${e===this.currentIndex?"is-active":""}" data-index="${e}">\n\t\t\t\t\t\t\t<img src="${t.src}" alt="${t.alt}">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t`)).join("")}\n\t\t\t\t</div>\n\t\t\t`:""}\n\t\t\t<div class="g-lightbox__main">\n\t\t\t\t<img\n\t\t\t\t\tclass="g-lightbox__image"\n\t\t\t\t\tsrc="${t.src}"\n\t\t\t\t\t${t.srcset?`srcset="${t.srcset}"`:""}\n\t\t\t\t\talt="${t.alt}"\n\t\t\t\t>\n\n\t\t\t\t${this.images.length>1?'<button class="g-lightbox__nav g-lightbox__nav--prev js-lightbox-nav" aria-label="Previous image">\n\t\t\t\t\t\t<span class="icon-caret-left" />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class="g-lightbox__nav g-lightbox__nav--next js-lightbox-nav" aria-label="Next image">\n\t\t\t\t\t\t<span class="icon-caret-right" />\n\t\t\t\t\t</button>\n\t\t\t\t':""}\n\t\t\t</div>\n\n\t\t\t${this.lightboxAction?`<div class="g-lightbox__action">${this.lightboxAction.outerHTML}</div>`:""}\n    `,this.addEventListeners()}addEventListeners(){on("body","click",".js-lightbox-close",(t=>{this.close()})),on("body","click",".js-lightbox-nav",(t=>{t.target.closest(".js-lightbox-nav").classList.contains("g-lightbox__nav--prev")?this.prev():this.next()})),on("body","click",".js-lightbox-thumbnail",(t=>{const e=t.target.closest(".js-lightbox-thumbnail");this.goToSlide(parseInt(e.dataset.index))}))}}const initHeader=()=>{const t=document.querySelectorAll("[data-menu-target]"),e=document.querySelectorAll("[data-menu-trigger]"),s=document.querySelector(".js-g-overlay"),i=t=>{const e=t.target.closest("[data-menu-trigger]"),s=e.dataset.menuTrigger,i=document.querySelector(`[data-menu-target="${s}"]`),r=e.classList.contains("is-active");o(),!r&&i&&(e.classList.add("is-active"),i.classList.add("is-active"),root.classList.add("is-megamenu-active")),a(r)},o=()=>{e.forEach((t=>t.classList.remove("is-active"))),t.forEach((t=>t.classList.remove("is-active"))),root.classList.remove("is-megamenu-active")},a=(t=!1)=>{s.setAttribute("tabindex",t?0:-1),s.setAttribute("aria-hidden",!t)};on("body","click",".js-g-overlay",(()=>{o(),root.classList.remove("is-search-active")})),on("body","mouseover",".js-g-overlay",(()=>{o()})),on("body","click","[data-menu-trigger]",(t=>{i(t)})),on("body","mouseover","[data-menu-trigger]",(t=>{i(t)}));const r=document.querySelectorAll("[data-images-target]");on("body","mouseover","[data-images-trigger]",(t=>{const e=t.target.closest("[data-images-trigger]").dataset.imagesTrigger;r.forEach((t=>{const s=t.dataset.imagesTarget;t.classList.toggle("is-active",e==s)}))})),on("body","mouseout","[data-images-trigger]",(t=>{r.forEach((t=>{t.classList.remove("is-active")}))})),on("body","click",".js-mobile-menu-toggle",(t=>{root.classList.contains("mobile-menu-is-active")?(root.classList.remove("mobile-menu-is-active"),scrollEnable()):(root.classList.add("mobile-menu-is-active"),scrollDisable())}))},gArticleTruncate={truncateContainer:document.querySelector(".truncate-container"),truncatedDiv:document.querySelector("#truncated-product-description"),readMoreBtn:document.querySelector("#read-more"),readLessBtn:document.querySelector("#read-less"),fullContent:null,setInitialState:function(){if(!this.truncateContainer)return!1;this.fullContent=this.truncatedDiv.nextElementSibling,this.truncatedDiv.style.display="block",this.fullContent.style.display="none",this.readLessBtn.style.display="none"},showFullContent:function(){this.truncatedDiv.style.display="none",this.fullContent.style.display="block",this.readLessBtn.style.display="inline",this.fullContent.scrollIntoView({behavior:"smooth",block:"start"})},showTruncatedContent:function(){this.fullContent.style.display="none",this.readLessBtn.style.display="none",this.truncatedDiv.style.display="block",this.truncatedDiv.scrollIntoView({behavior:"smooth",block:"start"})},toggleContent:function(t){t?this.showFullContent():this.showTruncatedContent()},bindEvents:function(){if(!this.truncateContainer)return!1;this.readMoreBtn.addEventListener("click",(t=>{t.preventDefault(),this.toggleContent(!0)})),this.readLessBtn.addEventListener("click",(t=>{t.preventDefault(),this.toggleContent(!1)}))},init:function(){this.truncateContainer&&this.truncatedDiv&&this.readMoreBtn&&this.readLessBtn&&(this.setInitialState(),this.bindEvents())}},initMailChimpEmailCapture=()=>{on("body","keydown","input[type='email']",(t=>{console.log("ðŸš€ ~ initMailChimpEmailCapture ~ e:",t);t.target.closest(".js-mailchimp-email-capture").classList.remove("is-error")}),!1),on("body","submit",".js-mailchimp-email-capture",(t=>{t.preventDefault();const e=t.target,s=e.querySelector('input[type="email"]'),i=e.querySelector(".js-email-capture-status");s&&validateEmail(s)?(async t=>{const e=new FormData(t),s=t.getAttribute("action");try{const i=await fetch(s,{method:"POST",body:e,mode:"no-cors"});console.log("ðŸš€ ~ submitWithFetch ~ response:",i),t.classList.add("is-success")}catch(e){console.log("âŒ Fetch failed:",e),t.classList.add("is-error")}})(e):(e.classList.add("is-error"),i.textContent=s.value?"Please enter a valid email.":"Email is required.")}),!1)};document.addEventListener("DOMContentLoaded",(()=>{switch(new GlobalLightbox,initMatch(),initHeader(),initVideo(),gArticleTruncate.init(),initMailChimpEmailCapture(),root.classList[0]){case"template-product":initPDP();break}})),ariaFocusManager.init();