const playTargetVideo=(e,t,s,o=!1,i=!1)=>{e?(e=>{e.muted=!(i&&o),e.play()})(e):s&&((e,t)=>{"vimeo"===t?(e.setMuted(!(i&&o)),e.play().catch((e=>{"PlayInterrupted"!==e.name&&console.error("Error playing video:",e)}))):"youtube"===t&&("function"==typeof e.playVideo&&"function"==typeof e.mute?(i&&o?e.unMute():e.mute(),e.playVideo()):console.warn("YouTube player not fully initialized or methods unavailable."))})(s,t)},pauseTargetVideo=(e,t,s)=>{e?(e=>{e.pause(),e.muted=!0})(e):s&&((e,t)=>{"vimeo"===t?(e.pause().catch((e=>{"PlayInterrupted"!==e.name&&console.error("Error pausing video:",e)})),e.setMuted(!0)):"youtube"===t&&("function"==typeof e.pauseVideo&&"function"==typeof e.mute?(e.pauseVideo(),e.mute()):console.warn("YouTube player not fully initialized or methods unavailable."))})(s,t)},initVideo=()=>{const e=(e,t)=>{const s=e.isIntersecting,o=t.querySelectorAll(".js-video-mute, .js-video-unmute, .js-video-play, .js-video-pause"),i=t.querySelector(".js-external-video")?.dataset.videoId;((e,t,s)=>{const o=e.querySelector("video"),i=e.querySelector(".js-external-video")?.dataset.videoHost,a=e.querySelector(".js-video-mute.is-active, .js-video-unmute.is-active"),r=a?.classList.contains("js-video-mute");(o||s)&&(t?playTargetVideo(o,i,s,r,a):pauseTargetVideo(o,i,s))})(t,s,allPlayersObj[i]),o.forEach((e=>e.classList.remove("is-active"))),s&&(t.querySelector(".js-video-unmute")?.classList.add("is-active"),t.querySelector(".js-video-pause")?.classList.add("is-active"))};document.querySelectorAll(".c-video").forEach((t=>{new IntersectionObserver((([s])=>e(s,t)),{root:null,threshold:[.4]}).observe(t)}));const t=(e,t)=>{const s=e.target.closest(`.js-video-${t}`),o=s.closest(".c-video"),i=o.querySelector("video"),a=o.querySelector(".js-external-video"),r=o.querySelector(".js-video-mute.is-active, .js-video-unmute.is-active"),l=r?.classList.contains("js-video-mute"),d=a?.dataset.videoHost,c=a?.dataset.videoId,n=allPlayersObj[c];"play"===t?playTargetVideo(i,d,n,l,r):"pause"===t?pauseTargetVideo(i,d,n):"mute"!==t&&"unmute"!==t||("youtube"===d?"function"==typeof n.unMute?n.isMuted()?n.unMute():n.mute():console.warn("YouTube player not fully initialized or methods unavailable."):"vimeo"===d?n.getMuted().then((e=>n.setMuted(!e))):i&&(i.muted="mute"===t)),"play"===t||"pause"===t?(s.classList.remove("is-active"),o.querySelector(".js-video-"+("play"===t?"pause":"play"))?.classList.add("is-active")):"mute"!==t&&"unmute"!==t||(o.querySelector(".js-video-mute")?.classList.toggle("is-active","unmute"===t),o.querySelector(".js-video-unmute")?.classList.toggle("is-active","mute"===t))};on("body","click",".js-video-mute",(e=>t(e,"mute"))),on("body","click",".js-video-unmute",(e=>t(e,"unmute"))),on("body","click",".js-video-play",(e=>t(e,"play"))),on("body","click",".js-video-pause",(e=>t(e,"pause"))),on("body","click",".js-product-hero-slider-thumbnail",(e=>{const t=".js-product-hero-slider"+(window.innerWidth<=1024?"":".is-scroll"),s=e.target.closest(t);s&&s.querySelector(".c-video")&&(s.querySelectorAll(".c-video").forEach((e=>{const t=e.querySelector("video"),s=e.querySelector(".js-external-video"),o=s?.dataset.videoHost,i=s?.dataset.videoId,a=i?allPlayersObj[i]:null;pauseTargetVideo(t,o,a),e.querySelectorAll(".js-video-mute, .js-video-unmute, .js-video-play, .js-video-pause").forEach((e=>e.classList.remove("is-active")))})),setTimeout((()=>{const e=s.querySelector(".js-slider-block.is-active .c-video");if(!e)return;const t=e.querySelector("video"),o=e.querySelector(".js-external-video"),i=o?.dataset.videoHost,a=o?.dataset.videoId,r=a?allPlayersObj[a]:null;playTargetVideo(t,i,r),e.querySelectorAll(".js-video-unmute, .js-video-pause").forEach((e=>e.classList.add("is-active")))}),100))}))},initPDP=()=>{const e=document.querySelector(".product-hero"),t=Array.from(e.querySelectorAll(".js-slider-block:not(.is-hidden)")),s=Array.from(e.querySelectorAll(".js-product-hero-slider-thumbnail:not(.is-hidden)"));reframe(".is-fade.is-natural .c-video iframe","c-video__reframe");if((()=>{const e=t[0],o=s[0];e&&(e.classList.add("is-active"),o.classList.add("is-active"))})(),!vs.isTouchDevice){setTimeout((()=>{e.classList.remove("is-interacted")}),5e3),on("body","mouseover",".js-product-hero-slider",(t=>{e.classList.add("is-interacted")})),on("body","mouseout",".js-product-hero-slider",(t=>{e.classList.remove("is-interacted")}))}let o=1;function i(e){return e.forEach((e=>{e.isIntersecting&&(o=e.target.dataset.sliderIndex)})),o}e.querySelector(".js-scroll-container.is-scroll")&&!vs.isTabletScreen&&t.forEach((e=>{const o=new IntersectionObserver((e=>{!function(e){t.forEach((t=>{t.classList.toggle("is-active",t.getAttribute("data-slider-index")===e)})),s.forEach((t=>{t.classList.toggle("is-active",t.getAttribute("data-slider-index")==e)}))}(i(e))}),{root:null,threshold:[.4]});o.observe(e)})),on("body","click",".js-product-hero-slider-thumbnail",(t=>{let s=t.target.closest(".js-product-hero-slider-thumbnail");const o=Array.from(e.querySelectorAll(".js-slider-block:not(.is-hidden)"));Array.from(e.querySelectorAll(".js-product-hero-slider-thumbnail:not(.is-hidden)")).forEach((e=>{e.classList.remove("is-active")})),s.classList.add("is-active"),o.forEach((e=>{const t=e.dataset.sliderIndex==s.dataset.sliderIndex;e.classList.toggle("is-active",t),t&&!vs.isTabletScreen&&e.scrollIntoView({behavior:"smooth"})}))})),e.querySelectorAll("model-viewer").forEach((e=>{const t={"disable-zoom":""};Object.keys(t).forEach((s=>{e.setAttribute(s,t[s])}))}))};let allPlayersObj={};window.onYouTubeIframeAPIReady=()=>{document.querySelectorAll('.js-external-video[data-video-host="youtube"]').forEach((e=>{const t=e.dataset.videoId,s=new YT.Player(e,{videoId:t,playerVars:{playsinline:1}});allPlayersObj[t]=s}))},window.addEventListener("load",(()=>{document.querySelectorAll('.js-external-video[data-video-host="vimeo"]').forEach((e=>{const t=e.dataset.videoId,s=new Vimeo.Player(e);s.on("loaded",(()=>allPlayersObj[t]=s))})),setTimeout((()=>{initVideo()}),400)}));class ComponentSlider extends HTMLElement{constructor(){super(),this.viewportNode=this.querySelector(".js-embla-viewport"),this.prevButtonNode=this.querySelector(".js-embla-button-prev"),this.nextButtonNode=this.querySelector(".js-embla-button-next"),this.dotsNode=this.querySelector(".js-embla-dots"),this.progressNode=this.querySelector(".js-progress-bar"),this.isVertical="true"===this.dataset.emblaVertical,this.enableSync="true"===this.dataset.emblaSync,this.enableWheel="true"===this.dataset.emblaWheel,this.enableFade="true"===this.dataset.emblaFade,this.enableAutoHeight="true"===this.dataset.emblaAutoHeight,this.enableAutoplay="true"===this.dataset.emblaAutoplay;const e=this.hasAttribute("data-embla-delay")?parseInt(this.dataset.emblaDelay):4e3,t=EmblaCarouselAutoplay({playOnInit:this.enableAutoplay,delay:e,stopOnInteraction:!1,stopOnMouseEnter:!0});this.enableAutoScroll="true"===this.dataset.emblaAutoScroll;const s=this.hasAttribute("data-embla-scroll-speed")?parseInt(this.dataset.emblaScrollSpeed):2,o=this.hasAttribute("data-embla-scroll-delay")?parseInt(this.dataset.emblaScrollDelay):0,i="true"===this.dataset.emblaScrollBackward?"backward":"forward",a=EmblaCarouselAutoScroll({playOnInit:this.enableAutoScroll,speed:s,startDelay:o,direction:i,stopOnInteraction:!1,stopOnMouseEnter:!1}),r=[EmblaCarouselClassNames(),...this.enableWheel?[EmblaCarouselWheelGestures()]:[],...this.enableAutoplay?[t]:[],...this.enableAutoplay?[t]:[],...this.enableAutoScroll?[a]:[],...this.enableFade?[EmblaCarouselFade()]:[],...this.enableAutoHeight?[EmblaCarouselAutoHeight()]:[]],l={axis:this.isVertical?"y":"x",...JSON.parse(this.dataset.emblaSlider.replace(/'/g,'"').trim())};vs.isTouchDevice&&this.closest(".s-data__blocks")&&(l.watchDrag=!1),this.embla=EmblaCarousel(this.viewportNode,l,r),this.slideNodes=this.embla.slideNodes(),1===this.slideNodes.length&&(this.classList.add("is-inactive"),this.embla.destroy())}connectedCallback(){this.initializeNavigation()}addTogglePrevNextBtnsActive=(e,t,s)=>{const o=()=>{e.canScrollPrev()?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled"),e.canScrollNext()?s.removeAttribute("disabled"):s.setAttribute("disabled","disabled")};return e.on("select",o).on("init",o).on("reInit",o),()=>{t.removeAttribute("disabled"),s.removeAttribute("disabled")}};addPrevNextBtnsClickHandlers=(e,t,s)=>{const o=()=>{e.scrollPrev()},i=()=>{e.scrollNext()};t.addEventListener("click",o,!1),s.addEventListener("click",i,!1);const a=this.addTogglePrevNextBtnsActive(e,t,s);return()=>{a(),t.removeEventListener("click",o,!1),s.removeEventListener("click",i,!1)}};addDotBtnsAndClickHandlers=(e,t)=>{let s=[];const o=()=>{t.innerHTML=e.scrollSnapList().map(((e,t)=>`<button class="embla__dot c-slider__dot increase-target-size" type="button" data-trigger-sync=${t}></button>`)).join("");s=Array.from(t.querySelectorAll(".embla__dot")),s.forEach(((t,s)=>{t.addEventListener("click",(()=>(t=>{e.scrollTo(t)})(s)),!1)}))},i=()=>{const t=e.previousScrollSnap(),o=e.selectedScrollSnap();s[t].classList.remove("is-active"),s[o].classList.add("is-active")};return e.on("init",o).on("reInit",o).on("init",i).on("reInit",i).on("select",i),()=>{t.innerHTML=""}};setupProgressBar=(e,t)=>({applyProgress:()=>{const s=Math.max(0,Math.min(1,e.scrollProgress()));t.style.transform=`translate3d(${100*s}%,0px,0px)`},removeProgress:()=>{t.removeAttribute("style")}});syncSliderWithTrigger=()=>{};initializeNavigation=()=>{if(1!==this.slideNodes.length){if(this.prevButtonNode&&this.nextButtonNode){const e=this.addPrevNextBtnsClickHandlers(this.embla,this.prevButtonNode,this.nextButtonNode);this.embla.on("destroy",e)}if(this.progressNode){const{applyProgress:e,removeProgress:t}=this.setupProgressBar(this.embla,this.progressNode);this.embla.on("init",e).on("reInit",e).on("scroll",e).on("slideFocus",e).on("destroy",t)}if(this.dotsNode){const e=this.addDotBtnsAndClickHandlers(this.embla,this.dotsNode);this.embla.on("destroy",e)}this.enableSync&&(this.embla.on("select",(()=>{const e=this.dotsNode.querySelector(".c-slider__dot.is-active"),t=e.closest(".js-slider-sync");if(e){const s=t.querySelector(`[data-trigger="${e.dataset.triggerSync}"]`),o=t.querySelector(`[data-target="${e.dataset.triggerSync}"]`);getSiblings(s).forEach((e=>{e.classList.remove("is-active")})),getSiblings(o).forEach((e=>{e.classList.remove("is-active")})),s.classList.add("is-active"),o.classList.add("is-active"),s.parentElement&&(s.parentElement.scrollLeft=s.offsetLeft-40)}})),on("body","click",".js-slider-sync [data-trigger]",(e=>{const t=e.target.closest("[data-trigger]").dataset.trigger;this.embla.scrollTo(parseInt(t))})))}}}customElements.define("c-slider",ComponentSlider);const initHeader=()=>{const e=document.querySelectorAll("[data-menu-target]"),t=document.querySelectorAll("[data-menu-trigger]"),s=document.querySelector(".js-g-overlay"),o=()=>{t.forEach((e=>e.classList.remove("is-active"))),e.forEach((e=>e.classList.remove("is-active"))),root.classList.remove("is-megamenu-active")};on("body","click",".js-g-overlay",(()=>{o(),root.classList.remove("is-search-active")})),on("body","click","[data-menu-trigger]",(e=>{const t=e.target.closest("[data-menu-trigger]"),i=t.dataset.menuTrigger,a=document.querySelector(`[data-menu-target="${i}"]`),r=t.classList.contains("is-active");o(),!r&&a&&(t.classList.add("is-active"),a.classList.add("is-active"),root.classList.add("is-megamenu-active")),((e=!1)=>{s.setAttribute("tabindex",e?0:-1),s.setAttribute("aria-hidden",!e)})(r)}))};document.addEventListener("DOMContentLoaded",(()=>{switch(initHeader(),initVideo(),root.classList[0]){case"template-product":initPDP();break}})),ariaFocusManager.init();