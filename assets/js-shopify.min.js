const global={sanitizePrice:function(t){return siteMoneyFormat.includes("amount_with_comma_separator")?t.replaceAll(/\.|\,/g,(function(t){return","==t?".":","})):t},formatSplitPrice:function(t){if(!t)return!1;const e=this.sanitizePrice(t).match(/([^0-9]*)([0-9,]+[\\\\.\\\\,]?[0-9]*)([^0-9]*)/);return{symbol:e[1],value:parseFloat(e[2].replace(/[\\\\,]/g,"")),currency:e[3]}},formatShopifyMoney:function(t){const e=Number(t).toFixed(2),r=siteMoneyFormat.includes("amount_with_comma_separator")?formatNumberEuro(e).replace(",00",""):formatNumberCommas(e).replace(".00","");return siteMoneyFormat.replace(/\{\{(.*?)\}\}/gs,r)}},cWysiwygShopify={init:function(){document.querySelector(".shopify-policy__body")?.firstElementChild.classList.add("wysiwyg","wysiwyg-page"),document.querySelectorAll(".wysiwyg meta[charset], .wysiwyg-page meta[charset]").forEach((t=>t.remove()))}},cItemVariants={updateVariantPillCurrentSelection:function(t,e,r){const s=t.closest(".js-variant-group").querySelector(".js-variant-pills-selected");s&&(s.dataset.label=e,s.dataset.labelCurrent=r)},init:function(){on("body","mouseover",".js-variant-group .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector");this.updateVariantPillCurrentSelection(e,e.value,e.dataset.label)})),on("body","mouseout",".c-product-form .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector"),r="INPUT"==e.tagName,s=document.querySelector(`[name="${e.name}"]${r?":checked":""}`);this.updateVariantPillCurrentSelection(e,"",s?s.dataset.label:"")}))}},cItemSellingPlan={init:function(){on("body","change",'.c-item-selling-plan input[type="radio"][name*="selling-plan-"]',(t=>{const e=t.target.closest('input[type="radio"][name*="selling-plan-"]');e.closest(".c-item-selling-plan").querySelector('[name="selling_plan"]').disabled="subscription"!=e.value}))}},cItemQuantity={updateQuantity:function(t,e){const r=t.querySelector('input[name="quantity"]'),s=t.querySelector('[data-trigger="decrease"]'),n=t.querySelector('[data-trigger="increase"]'),a=parseInt(r.value),i=e?Math.min(1,parseInt(r.max)-a):Math.max(-1,parseInt(r.min)-a),o=a+(void 0!==e?i:0),c="true"==r.dataset.leadingZero?formatPad(o):o;if(s.disabled=o<=r.min,n.disabled=o>=r.max,c!=r.value){r.value=c;const t=new Event("change");r.dispatchEvent(t)}},init:function(){on("body","click",".c-item-quantity [data-trigger]",(t=>{const e=t.target.closest("[data-trigger]"),r=e.closest(".c-item-quantity");this.updateQuantity(r,"increase"==e.dataset.trigger)}))}},cProductForm={updateVariantSpecificImage:function(t){if(console.log("ðŸš€ ~ selection:",t,t.variantTitle.length),!t||!t.variantTitle.length)return;const e=document.querySelector(".product-hero"),r=e.querySelectorAll(".js-product-media"),s=e.querySelectorAll(".js-variant-selector"),n="INPUT"==s[0].tagName;if(0==r.length)return;let a=new Set;n?a=new Set(Array.from(s).map((t=>formatHandleize(t.value)))):s.forEach((t=>{t.querySelectorAll("option").forEach((t=>{null!==t.value&&""!==t.value&&a.add(formatHandleize(t.value))}))}));const i=t.variantTitle.map((t=>formatHandleize(t)));r.forEach((t=>{const e=new Set(t.dataset.variantOption.split("/").map((t=>formatHandleize(t))));Array.from(e).some((t=>a.has(t)))?Array.from(e).some((t=>i.includes(t)))?t.classList.remove("is-hidden"):t.classList.add("is-hidden"):t.classList.remove("is-hidden")})),e.querySelector(".js-product-hero-slider-thumbnail:not(.is-hidden)").click()},saveVariantSelection:function(t,e,r){t.querySelectorAll(".js-variant-selector").forEach((t=>{const r="INPUT"==t.tagName?!!t.checked&&t.value:t.value;r&&e.variantTitle.push(r)})),e.variantIndex=r.findIndex((t=>t.title===e.variantTitle.join(" / "))),e.variantObject=r[e.variantIndex]},updatePrice:function(t,e){t.querySelectorAll(".c-item-price").forEach((t=>{const r=parseFloat(t.dataset.regularPriceAdj)||1,s=t.querySelector(".js-price-regular"),n=e.price;if(s){const{value:t}=global.formatSplitPrice(n),e=global.formatShopifyMoney(t*r);s.innerText=e}const a=t.querySelector(".js-price-compare");if(a){const t=e.priceCompare,{value:r}=global.formatSplitPrice(t),s=global.formatShopifyMoney(r);a.innerText=t&&t!=n?s:""}}))},updateQuantity:function(t,e){const r=e.inventory,s=t.querySelector('input[name="quantity"]');s&&(s.max=r),parseInt(s.value)>r&&0!=r&&(s.value=r);const n=t.querySelector(".c-item-quantity");cItemQuantity.updateQuantity(n)},updateFormId:function(t,e){t.querySelector('input[name="id"]').value=e.id},updateFormSubmitState:function(t,e){const r=t.querySelector(".js-form-submit");e.inventory<=0?(t.dataset.available=!1,r.disabled=!0):(t.dataset.available=!0,r.disabled=!1)},updateUrl:function(t){window.history.replaceState({},"",`?variant=${t.id}`)},updateVariantDisabledState:function(t,e){const r=t.querySelectorAll(".js-variant-group"),s=e.filter((t=>t.inventory>0));if(r.length<=1)return!1;const n=Array.from(r).map((t=>{const e=t.querySelector("input.js-variant-selector"),r=t.querySelector(".js-variant-selector"+(e?":checked":""));return!(!r||""==r.value)&&r.value}));if(n.includes(!1))return!1;Array.from(r).forEach(((t,e)=>{const r=t.querySelector("input.js-variant-selector");t.querySelectorAll(".js-variant-selector"+(r?":not(:checked)":" option:not(:checked)")).forEach((t=>{const r=[...n];r[e]=t.value;const a=s.some((t=>{const e=r.join(" / ");return t.title===e}));t.disabled=!a,"OPTION"===t.tagName&&(t.innerText=`${t.value}${a?"":" - sold out"}`)}))}))},initGiftCard:function(t){const e=t.querySelector(".js-gift-card-fields");if(e){const t=e.querySelector(".js-recipient-date"),r=e.querySelector(".js-recipient-email"),s=e.querySelector(".js-recipient-name"),n=e.querySelector(".js-recipient-message");on("body","click",".js-gift-card-toggle",(a=>{a.target.checked?(e.classList.add("is-active"),r.required=!0):(e.classList.remove("is-active"),r.required=!1,r.value=null,t.value=null,n.value=null,s.value=null)}));const a=t=>{let e=t.getDate(),r=t.getMonth()+1;return e<10&&(e="0"+e),r<10&&(r="0"+r),t.getFullYear()+"-"+r+"-"+e},i=90;let o=new Date,c=new Date;c=new Date(c.setDate(c.getDate()+i)),o=a(o),c=a(c),t.setAttribute("min",o),t.setAttribute("max",c),on("body","input",".js-recipient-date",(e=>{const r=t.validity;r.rangeUnderflow?t.setCustomValidity("Date must be today or later."):r.rangeOverflow&&t.setCustomValidity("Date must be within 90 days from today.")}))}},init:function(){document.querySelectorAll(".c-product-form").forEach((t=>{if(!t.dataset.variantsJson)return!1;const e=validateJson(t.dataset.variantsJson.replace(/'/g,'"').trim());"true"==t.dataset.updateVariantDisabledState&&this.updateVariantDisabledState(t,e);const r={selectorIndex:null,variantTitle:[],variantIndex:null,variantObject:null};this.saveVariantSelection(t,r,e),r.variantTitle.length?this.updateVariantSpecificImage(r):this.updateVariantSpecificImage({variantTitle:[""]}),this.initGiftCard(t)})),on("body","change",".c-product-form .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector").closest(".c-product-form"),r=validateJson(e.dataset.variantsJson.replace(/'/g,'"').trim()),s={selectorIndex:null,variantTitle:[],variantIndex:null,variantObject:null};e&&r&&this.saveVariantSelection(e,s,r),this.updateVariantSpecificImage(s);const n=s.variantObject;e&&n&&(this.updatePrice(e,n),this.updateQuantity(e,n),this.updateFormId(e,n),this.updateFormSubmitState(e,n),"true"==e.dataset.updateVariantUrl&&this.updateUrl(n),"true"==e.dataset.updateVariantDisabledState&&this.updateVariantDisabledState(e,r))}))}},cCart={updateCartStats:function(){fetch("/cart.js").then((t=>t.json())).then((t=>{const e=t.item_count;document.querySelectorAll(".js-cart-item-count").forEach((t=>{t.innerText=e})),e>0?root.classList.remove("is-cart-empty"):root.classList.add("is-cart-empty"),document.querySelectorAll(".c-cart").forEach((t=>t.setAttribute("data-item-count",e)));const r=t.total_price/100,s=`${formatNumberCommas(r.toFixed(2)).replace(".00","")}`;document.querySelectorAll(".js-cart-total-price").forEach((t=>{t.innerText=`$${s}`}));const n=document.querySelector(".js-freeshipping-threshold");if(n){const e=parseFloat(t.total_price/100);this.updateFreeShipping(e,n)}})).catch((t=>{console.error("Error:",t)}))},updateCartContent:function(){const t=document.querySelectorAll(".c-cart");t.forEach((t=>t.classList.add("is-content-updating"))),this.updateCartStats(),fetch("/cart").then((t=>t.text())).then((e=>{const r=parseHtmlString(e);t.forEach((t=>{t.innerHTML=r.querySelector(".c-cart").innerHTML,t.classList.remove("is-content-updating")})),this.initLineItem(),this.initUpsell()})).catch((t=>{console.error("Error:",t)}))},getLineItem:function(t){const e=t.closest(".c-line-item");return{item:e,key:e.dataset.itemKey}},getItemData:function(t){const e=t.querySelector('[name="id"]').value,r=t.querySelector('[name="quantity"]')?.value||1,s=t.querySelector('[name="selling_plan"]:not(:disabled)'),n=s?s.value:null,a={};t.querySelectorAll('[name*="properties["]').forEach((t=>{const e=t.name.match(/\[(.*?)\]/)[1];t.value&&(a[e]=t.value)}));return{id:e,quantity:r,selling_plan:n,properties:a}},addItems:function({items:t,updateCartContent:e=!0,updateCartStats:r=!1,callback:s}){fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})}).then((t=>t)).then((()=>{e&&this?.updateCartContent(),r&&this?.updateCartStats(),s&&s()})).catch((t=>{console.error("Error:",t)}))},updateLineItems:function({items:t,updateCartContent:e=!1,updateCartStats:r=!0,callback:s}){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({updates:t})}).then((t=>{t.json()})).then((()=>{e&&this?.updateCartContent(),r&&this?.updateCartStats(),s&&s()})).catch((t=>{console.error("Error:",t)}))},isLineItemEventAttached:!1,initLineItem:function(t){const e=(t,e)=>{const r={};return r[t]=e,r};document.querySelectorAll('.c-line-item input[name="quantity"]').forEach((t=>{t.addEventListener("change",(t=>{const r=t.target.closest('input[name="quantity"]'),s=parseInt(r.value)||1,{key:n}=this.getLineItem(t.target),a=e(n,s);this.updateLineItems({items:a})}))})),this.isLineItemEventAttached||(this.isLineItemEventAttached=!0,on("body","click",".c-line-item .js-item-remove-trigger",(t=>{const{item:r,key:s}=this.getLineItem(t.target),n=e(s,0);this.updateLineItems({items:n}),r.classList.add("is-removed"),this.restoreUpsellItem(r)})),on("body","change",".c-line-item .js-variant-selector",(t=>{const r=t.target.closest(".js-variant-selector"),{item:s,key:n}=this.getLineItem(r);s.classList.add("is-variant-updating"),loader.updateProgress(root);const a="INPUT"==r.tagName?!!r.checked&&r.value:r.value,i=validateJson(s.dataset.variantsJson.replace(/'/g,'"').trim()),o=i.findIndex((t=>t.id===a)),c=i[o],l=this.getItemData(s);l.id=c.id,parseInt(l.quantity)>c.inventory&&(l.quantity=c.inventory);const u=()=>{fetch("/cart").then((t=>t.text())).then((t=>{const e=parseHtmlString(t).querySelector(".c-cart .c-line-item:first-child").dataset.itemKey;s.dataset.itemKey=e,((t,e)=>{cProductForm.updatePrice(t,e),cProductForm.updateQuantity(t,e),cProductForm.updateFormId(t,e);const r=t.querySelector(".js-item-thumb img");e.imageSrc&&r&&(r.src=e.imageSrc,r.srcset="")})(s,c),s.classList.remove("is-variant-updating"),loader.complete(root)})).catch((t=>{console.error("Error:",t)}))};this.addItems({items:[l],updateCartContent:!1,updateCartStats:!1,callback:()=>{const t=e(n,0);this.updateLineItems({items:t,callback:u})}})})))},updateCartNote:function(t){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({note:t})}).then((t=>t.json())).catch((t=>{console.error("Error:",t)}))},updateGiftWrap:function(t={}){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({attributes:t})}).then((t=>t.json())).catch((t=>{console.error("Error:",t)}))},updateDiscount:function(t){function e(t){const e=document.querySelector(".g-minicart__content");[...e.querySelectorAll("button"),...e.querySelectorAll("input")].forEach((e=>t?e.setAttribute("disabled","disabled"):e.removeAttribute("disabled")))}e(!0),fetch(`/discount/${t}`).then((()=>fetch("/cart"))).then((t=>t.text())).then((function(t){const e=(new DOMParser).parseFromString(t,"text/html"),r=document.querySelector(".c-cart"),s=e.querySelector(".c-cart"),n=t=>{const e=r.querySelectorAll(t),n=s.querySelectorAll(t);e.length>0&&n.length>0&&e.forEach(((t,e)=>t.innerHTML=n[e].innerHTML))};n(".js-line-item-price"),n(".js-cart-total-price"),function(t,e){const r=e.querySelector(".js-cart-discount-success"),s=t.querySelector(".js-cart-discount"),n=(s.dataset.success,s.dataset.error);if(r&&s)s.outerHTML=r.outerHTML;else if(!r&&s){const t=s.querySelector(".js-cart-discount-input");t.value="",t.placeholder=n}}(r,s)})).catch((t=>{console.error("Error:",t)})).finally((()=>{e(!1)}))},isUpsellInit:!1,upsellProductHandles:[],initUpsell:async function(){const t=document.querySelector(".js-upsell");if(!t)return;const e=document.querySelector(".js-upsell-item-list");null==e.querySelector(".js-upsell-item-form")&&await this.createUpsell(e);const r=this.filterUpsellItems();this.isUpsellInit||(this.isUpsellInit=!0,this.storeUpsellProducts(),this.activeUpsellNavigation(t)),this.toggleUpsellVisibility(r)},createUpsell:async function(t){const e=[...document.querySelectorAll(".js-line-item")]?.map((t=>t.getAttribute("data-product-id")));if(0===e.length)return void document.querySelector(".js-upsell").classList.add("is-no-upsell-items");const r=await this.fetchUpsellItems(e);if(0===r.length)return;const s=this.createUpsellItemCards(r);return s?.forEach((e=>{t?.appendChild(e)})),this.storeUpsellProducts(),this.createUpsellDots(s.length),r},fetchUpsellItems:async function(t){if(0===t.length)return[];return(await Promise.all(t.map((async e=>{const r=await fetch(window.Shopify.routes.root+`recommendations/products.json?product_id=${e}&intent=related`);return[...(await r.json()).products.filter((e=>e.available&&!t.includes(e.id)))]})))).flat().filter(((t,e,r)=>e===r.findIndex((e=>e.id===t.id))))},toggleUpsellVisibility:function(t){const e=document.querySelector(".js-upsell");e&&(e.classList.toggle("has-upsell-items",t?.length>0),e.classList.toggle("is-only-one-upsell-item",1===t?.length))},createUpsellItemCards:function(t){return t.map(((t,e)=>{const r=t.variants.find((t=>t.available)),s=`\n\t\t\t\t<form\n\t\t\t\t\tclass="c-upsell-item c-product-form js-upsell-item-form ${0===e&&"is-active"}"\n\t\t\t\t\taction="/cart/add"\n\t\t\t\t\tmethod="post"\n\t\t\t\t\tdata-product-id="${r.id}"\n\t\t\t\t\tdata-product-handle="${t.handle}"\n\t\t\t\t>\n\t\t\t\t\t<p class="c-upsell-item__header">\n\t\t\t\t\t\tYou may like this\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div class="c-upsell-item__item f-h f-a-s">\n\t\t\t\t\t\t<div class="c-upsell-item__thumb">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref="${t.url}"\n\t\t\t\t\t\t\t\tclass="object-fit bg-subtle"\n\t\t\t\t\t\t\t\ttitle="${t.title}"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${t.featured_image?`<img src="${window.Shopify.routes.root+t.featured_image}">`:""}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="c-upsell-item__info f-v">\n\t\t\t\t\t\t\t<div class="c-upsell-item__title">\n\t\t\t\t\t\t\t\t${r.name}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="c-upsell-item__price">\n\t\t\t\t\t\t\t\t$${r.price/100}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype="submit"\n\t\t\t\t\t\t\t\tclass="c-upsell-item__add btn-underline js-form-submit"\n\t\t\t\t\t\t\t\taria-label="Add item to cart"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdd to cart\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t<input type="hidden" name="id" value="${r.id}">\n\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype="hidden"\n\t\t\t\t\t\t\t\tname="properties[_upsell]"\n\t\t\t\t\t\t\t\tvalue="true"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t`,n=document.createElement("div");return n.innerHTML=s,n.firstElementChild}))},createUpsellDots(t){const e=document.querySelector(".js-upsell-dot-group");t<=1||!e||Array.from({length:t}).forEach(((t,r)=>{const s=document.createElement("button");s.classList="c-cart__upsell__dot js-upsell-dot "+(0===r?"is-active":""),e.appendChild(s)}))},activeUpsellNavigation:function(t){const e=t.querySelector(".js-upsell-arrow"),r=t.querySelector(".js-upsell-dot-group");e?this.activeUpsellArrowNav():r&&this.activeUpsellDotsNav()},activeUpsellArrowNav:function(){let t=0;const e=(t,e)=>t.forEach(((t,r)=>t.classList.toggle("is-active",r===e)));on("body","click",".js-upsell-arrow-left",(()=>{const r=document.querySelectorAll(".js-upsell-item-form");t--,t<0&&(t=r?.length-1),e(r,t)})),on("body","click",".js-upsell-arrow-right",(()=>{const r=document.querySelectorAll(".js-upsell-item-form");t++,t>r?.length-1&&(t=0),e(r,t)}))},activeUpsellDotsNav:function(){on("body","click",".js-upsell-dot",(t=>{const e=document.querySelectorAll(".js-upsell-item-form");e.forEach((t=>t.classList.remove("is-active")));const r=t.target.closest(".js-upsell-dot"),s=Array.from(r.parentNode.children);s.forEach((t=>t.classList.remove("is-active"))),r.classList.add("is-active");e[s.indexOf(r)]?.classList.add("is-active")}))},filterUpsellItems:function(){const t=[...document.querySelectorAll(".js-line-item")],e=[...document.querySelectorAll(".js-upsell-item-form")];if(0==t.length||0==e.length)return;e.filter((e=>t.find((t=>e.getAttribute("data-product-handle")==t.getAttribute("data-product-handle"))))).forEach((t=>t.remove()));const r=document.querySelectorAll(".js-upsell-item-form");r[0]?.classList.add("is-active");const s=document.querySelector(".js-upsell-dot-group");return s&&(s.innerHTML="",this.createUpsellDots(r.length)),r},restoreUpsellItem:function(t){if(null==document.querySelector(".js-upsell"))return;const e=t.getAttribute("data-product-handle");0!=this.upsellProductHandles.includes(e)&&fetch(window.Shopify.routes.root+`products/${e}.js`).then((t=>t.json())).then((t=>{const e=this.createUpsellItemCards([t])[0],r=document.querySelector(".js-upsell-item-list");r.querySelectorAll(".js-upsell-item-form").forEach((t=>t.classList.remove("is-active"))),r.insertBefore(e,r.firstChild);const s=document.querySelector(".js-upsell-dot-group");if(s){s.innerHTML="";const t=document.querySelectorAll(".js-upsell-item-form").length;this.createUpsellDots(t)}const n=document.querySelectorAll(".js-upsell-item-form");this.toggleUpsellVisibility(n)}))},storeUpsellProducts:function(){this.upsellProductHandles.length>0||(this.upsellProductHandles=[...document.querySelectorAll(".js-upsell-item-form")].map((t=>t.getAttribute("data-product-handle"))))},updateFreeShipping:function(t,e){const r=parseFloat(e.dataset.freeshippingThreshold),s=e.querySelector(".js-freeshipping-progress-bar"),n=e.querySelector(".js-freeshipping-diff");e.classList.toggle("is-freeshipping",t>=r);const a=r-t,i=global.formatShopifyMoney(a).replace(".00","").replace(/[^$\d,\.]/g,"");n.innerHTML=i,s.style.width=t>r?"100%":`${(t/r*100).toFixed(0)}%`},getMinicartDom:function(){return document.querySelector(".g-minicart")},minicartClose:function(){root.classList.remove("is-minicart-active"),history.replaceState(null,null," "),scrollEnable(),this.getMinicartDom()?.setAttribute("aria-hidden","true")},minicartOpen:function(){root.classList.add("is-minicart-active"),history.replaceState(null,null,"#cart"),scrollDisable(),this.getMinicartDom()?.setAttribute("aria-hidden","false"),this.updateAriaHiddenInCart()},initMinicart:function(){this.getMinicartDom()?.setAttribute("aria-hidden","true"),on("body","click",".js-minicart-close",this.minicartClose.bind(this)),on("body","click",".js-minicart-open",this.minicartOpen.bind(this)),on("body","click",".js-minicart-toggle",(t=>{root.classList.contains("is-minicart-active")?this.minicartClose():this.minicartOpen()})),on("body","keydown","body",(t=>{"Escape"==t.key&&this.minicartClose()})),"#cart"==location.hash&&this.minicartOpen()},updateAriaHiddenInCart:function(t=!1){document.querySelectorAll(".c-cart").forEach((e=>{const r=parseInt(e.dataset?.itemCount,10)||0,s=e.querySelector(".js-cart-empty"),n=e.querySelector(".js-cart-wrapper");t?(s.setAttribute("aria-hidden","true"),n.setAttribute("aria-hidden","true")):(s.setAttribute("aria-hidden",r>0),n.setAttribute("aria-hidden",r<=0))}))},updateFocusableElementsInCart:function(t,e){t&&(t.querySelector(".js-cart-empty").setAttribute("aria-hidden",e>0),t.querySelector(".js-cart-wrapper").setAttribute("aria-hidden",e<=0))},observeAriaHiddenChanges:function(){const t=this.getMinicartDom();if(!t)return;new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"aria-hidden"===e.attributeName){const e="true"===t.getAttribute("aria-hidden");this.updateAriaHiddenInCart(e)}}))})).observe(t,{attributes:!0,attributeFilter:["aria-hidden"]})},init:function(){on("body","submit",'form[action="/cart/add"]',(t=>{t.preventDefault();const e=t.target.closest('form[action="/cart/add"]'),r=this.getItemData(e);loader.updateProgress(root),this.addItems({items:[r],callback:()=>{loader.complete(root),this.minicartOpen()}})})),this.observeAriaHiddenChanges(),on("body","change",".js-cart-note-text",(t=>{const e=document.querySelector(".js-cart-note-checkbox"),r=t.target.value;r&&e.checked&&this.updateCartNote(r)})),on("body","change",".js-cart-note-checkbox",(t=>{const e=document.querySelector(".js-cart-note-text");t.target.checked?(e.classList.add("is-active"),this.updateCartNote(e.value)):(e.classList.remove("is-active"),this.updateCartNote(""))})),on("body","change",".js-cart-gift-wrap-checkbox",(t=>{const e=t.target.closest(".js-cart-gift-wrap-checkbox").checked?{"Gift wrap":"Yes"}:{"Gift wrap":"No"};this.updateGiftWrap(e)})),on("body","submit",".js-cart-discount",(t=>{t.preventDefault();const e=t.target.querySelector(".js-cart-discount-input").value;this.updateDiscount(e)})),this.initLineItem(),this.initUpsell(),this.initMinicart()}},cInfiniteScroll={createNewInfiniteScroll(t){let e=t.dataset.infiniteScrollId,r=InfiniteScroll.data(`.js-infinite-scroll-grid-${e}`);return r&&r.destroy(),new InfiniteScroll(`.js-infinite-scroll-grid-${e}`,{path:`.js-infinite-scroll-next-${e}`,append:`.js-infinite-scroll-item-${e}`,button:`.js-load-more-btn-${e}`,scrollThreshold:!1,history:!1})},computeProgressBarWidth(t,e){const r=document.querySelector(".js-progress-bar");r&&(r.style.width=`${Math.round(t/e*100)}%`)},computeCount(t){const e=t.querySelector(".js-pagination");return{maxItemCount:parseInt(e.dataset.itemCount),paginateCount:parseInt(e.dataset.paginateCount)}},init(){document.querySelector('[class^="js-infinite-scroll-next-"]')?document.querySelectorAll(".js-infinite-scroll").forEach((t=>{let e=cInfiniteScroll.createNewInfiniteScroll(t);t.querySelector(".c-pagination__end-message");const{maxItemCount:r,paginateCount:s}=cInfiniteScroll.computeCount(t);let n=s;cInfiniteScroll.computeProgressBarWidth(n,r),e.on("request",(()=>{loader.updateProgress(root)})),e.on("append",(()=>{loader.complete(root),n=Math.min(n+s,r);if(t.querySelector(".js-viewed-count").innerText=n,cInfiniteScroll.computeProgressBarWidth(n,r),n==r){t.querySelector(".js-pagination").classList.add("is-max-items")}})),e.on("error",(()=>{loader.complete(root)})),e.on("last",(()=>{loader.complete(root)}))})):cInfiniteScroll.computeProgressBarWidth(1,1)}},cFiltersSort={getPriceRangeSelections:function(t){const e=[];return t.closest(".c-filters-sort").querySelectorAll('input[type="number"]').forEach((t=>{t.value&&e.push({name:t.name,value:t.value})})),e},getFiltersSelection:function(t){const e=[];return t.closest(".c-filters-sort").querySelectorAll('input[type="checkbox"]:checked').forEach((t=>{t.value&&e.push({name:t.name,value:t.value})})),e},getSortSelection:function(t){const e=t.closest(".c-filters-sort").querySelector("select");return!(!e||"manual"==e.value)&&e.value},getFilterSortUrl:function(t){const e=this.getPriceRangeSelections(t).map((t=>`${t.name}=${t.value}`)).join("&"),r=this.getFiltersSelection(t).map((t=>`${t.name}=${t.value}`)).join("&"),s=this.getSortSelection(t),n=!!s&&`sort_by=${s}`,a=[];e&&a.push(e),r&&a.push(r),n&&a.push(n);return encodeURI(a.join("&"))},updateFilterSort:function({urlParamString:t,elTarget:e,replaceState:r,reinitPanel:s=!1}){loader.updateProgress(root),root.classList.add("is-filters-sort-updating");const n=new URLSearchParams(window.location.search),a=new URLSearchParams;for(const[t,e]of n.entries())t.includes("filter")||t.includes("sort_by")||a.append(t,e);const i=[Array.from(a).map((t=>`${t[0]}=${t[1]}`)).join("&"),t].filter(Boolean).join("&"),o=encodeURI(i);fetch(`?${o}`).then((t=>t.text())).then((t=>{const r=parseHtmlString(t),n=Array.from(r.querySelectorAll(".js-filters-sort-update")),a=e?e.closest(".js-filters-sort-update"):null;if(document.querySelectorAll(".js-filters-sort-update").forEach(((t,e)=>{t!=a&&n[e]&&(t.innerHTML=n[e].innerHTML)})),s){const t=document.querySelector(".js-filters-sort-panel");this.panelUpdate(t)}this.panelFilterSortUpdate(),loader.complete(root),root.classList.remove("is-filters-sort-updating"),cInfiniteScroll.init()})).catch((t=>{console.error("Error:",t)})),r?window.history.replaceState({},"",`?${o}`):window.history.pushState({},"",`?${o}`)},updateSortCurrent:function(t){const e=t.closest(".js-filters-sort-dropdown-sorting");e&&(e.querySelector(".js-filter-dropdown-toggle").dataset.current="manual"==t.value?"":`: ${t.options[t.selectedIndex].text}`)},panelClose:function(){root.classList.remove("is-filters-sort-panel-active")},panelOpen:function(){root.classList.add("is-filters-sort-panel-active")},panelFilterSortUpdate:function(){const t=document.querySelectorAll(".c-filters-sort__selection .js-filters-sort-update");document.querySelectorAll(".js-filters-sort-panel-body .js-filters-sort-update").forEach(((e,r)=>{e.innerHTML=t[r].innerHTML})),document.querySelector(".c-filters-sort .js-filters-sort-panel-active").innerHTML=document.querySelector(".c-filters-sort .js-filters-sort-active").innerHTML},panelUpdate:function(t){if(!t)return!1;const e=t.querySelector(".js-filters-sort-panel-body");e.innerHTML="",document.querySelectorAll(".c-filters-sort .js-filters-sort-dropdown").forEach((t=>{const r=t.cloneNode(!0);e.appendChild(r)})),t.querySelectorAll(".js-filters-sort-dropdown").forEach((t=>{t.classList.remove("tablet-up-only"),t.querySelectorAll("input").forEach((t=>{t.id=`panel-${t.id}`})),t.querySelectorAll("label").forEach((t=>{t.htmlFor=`panel-${t.htmlFor}`}))}))},initPanel:function(){const t=document.querySelector(".js-filters-sort-panel"),e=t.cloneNode(!0);e.classList.add("c-filters-sort"),document.body.appendChild(e),t.remove(),this.panelUpdate(e),this.panelFilterSortUpdate(),on("body","click",".js-filters-sort-panel-close",this.panelClose),on("body","click",".js-filters-sort-panel-open",this.panelOpen),on("body","click",".js-filters-sort-panel-toggle",(t=>{root.classList.contains("is-filters-sort-panel-active")?this.panelClose():this.panelOpen()})),on("body","keydown","body",(t=>{"Escape"==t.key&&this.panelClose()}))},init:function(){document.querySelector(".js-filters-sort-panel")&&this.initPanel(),on("body","click","body",(t=>{const e=t.target,r=e.closest(".js-filter-dropdown-toggle");document.querySelectorAll(".js-filters-sort-dropdown").forEach((t=>{const s=t.querySelector(".js-filter-dropdown-toggle");r&&r==s?t.classList.toggle("is-dropdown-active"):!e.closest(".js-filters-sort-dropdown-content")&&t.classList.remove("is-dropdown-active")}))})),on("body","change",".js-filter-input",(t=>{this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:t.target})})),on("body","click",".js-filter-apply",(t=>{this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:t.target})})),on("body","submit",".js-filter-form",(t=>{t.preventDefault(),this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:t.target})})),on("body","change",".js-sort-selector",(t=>{const e=t.target.closest("select");this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:e}),this.updateSortCurrent(e)})),window.addEventListener("popstate",(t=>{document.querySelector(".js-filter-form")&&this.updateFilterSort({urlParamString:location.search.replace("?",""),replaceState:!0})})),on("body","click",".js-filter-remove",(t=>{t.preventDefault();const e=t.target.closest(".js-filter-remove"),r=e.dataset.url.replace(`${location.pathname}`,"").replace("?","");e.remove(),this.updateFilterSort({urlParamString:r,elTarget:e,reinitPanel:!0})})),on("body","click",".js-filter-remove-all",(t=>{t.preventDefault(),this.updateFilterSort({urlParamString:null,reinitPanel:!0})}))}},gAnnouncement={announcement:document.querySelector(".g-announcement"),dots:document.querySelector(".g-announcement .js-announcement-dots"),disableAutoplay:function(){this.announcement.classList.add("is-autoplay-disabled")},enableAutoplay:function(){this.announcement.classList.remove("is-autoplay-disabled")},autoplayInterval:null,autoplay:function(){if(!this.dots||!this.dots.dataset.autoplay)return!1;const t=this.dots.querySelectorAll("[data-announcement-trigger]"),e=parseInt(this.dots.dataset.autoplayInterval);on("body","mouseover",".g-announcement",(()=>{this.disableAutoplay()})),on("body","mouseout",".g-announcement",(()=>{this.enableAutoplay()})),this.autoplayInterval=setInterval((()=>{if(this.announcement.classList.contains("is-autoplay-disabled"))return!1;const e=this.dots.querySelector("[data-announcement-trigger].is-active"),r=parseInt(e.dataset.announcementTrigger),s=r<t.length-1?r+1:0;this.updateActiveMessage(s)}),1e3*e)},updateAnnouncementHeight:function(){const t=this.announcement.querySelector(".js-announcement-block.is-active");t&&(this.announcement.querySelector(".js-announcement-blocks").style.height=`${t.offsetHeight}px`),root.style.setProperty("--s-announcement-dynamic",`${this.announcement?this.announcement.offsetHeight:0}px`)},updateActiveMessage:function(t){this.announcement.querySelectorAll(".js-announcement-block").forEach(((e,r)=>{r==t?e.classList.add("is-active"):e.classList.remove("is-active")})),this.announcement.querySelectorAll("[data-announcement-trigger]").forEach(((e,r)=>{r==t?e.classList.add("is-active"):e.classList.remove("is-active")})),this.updateAnnouncementHeight()},init:function(){this.announcement&&this.announcement.children.length>0&&(this.autoplay(),this.updateAnnouncementHeight(),on("body","click","[data-announcement-trigger]",(t=>{const e=t.target.closest("[data-announcement-trigger]"),r=parseInt(e.dataset.announcementTrigger);this.updateActiveMessage(r),clearInterval(this.autoplayInterval)})))}},pAccount={recoverClose:function(){root.classList.remove("is-account-recover-active"),history.replaceState(null,null," ");const t=document.querySelector("#account-recover-email");autoFocus&&t&&t.blur()},recoverOpen:function(t=!0){root.classList.add("is-account-recover-active"),history.replaceState(null,null,"#recover");const e=document.querySelector("#account-recover-email");t&&e&&e.focus()},init:function(){on("body","click",".js-account-recover-close",this.recoverClose),on("body","click",".js-account-recover-open",this.recoverOpen),on("body","click",".js-account-recover-toggle",(t=>{root.classList.contains("is-account-recover-active")?this.recoverClose():this.recoverOpen()})),"#recover"==location.hash&&this.recoverOpen(!1)}};pAccount.init();const gSearch={search:document.querySelector(".g-search"),searchResultsWrapper:document.querySelector(".g-search .js-search-results-wrapper"),liveSearchResults:document.querySelector(".g-search .js-live-search-results"),defaultSearchResults:document.querySelector(".g-search .js-default-search-results"),searchResultMessage:document.querySelector(".g-search .js-search-result-message"),searchResultEmpty:document.querySelector(".g-search .js-search-result-empty"),searchResultCount:document.querySelector(".g-search .js-search-result-count"),prevQuery:null,setMessageBoxHeight:function(){this.searchResultMessage.classList.contains("is-empty")?this.searchResultMessage.style.height=`${this.searchResultEmpty.scrollHeight}px`:this.searchResultMessage.style.height=`${this.searchResultCount.scrollHeight}px`},liveSearch:function(t){if(""===t||t===this.prevQuery)return;let e=`/search?q=${encodeURIComponent(t)}&type=product`;this.searchResultsWrapper.classList.add("is-loading"),fetch(e).then((function(t){return t.text()})).then((e=>{let r=(new DOMParser).parseFromString(e,"text/html");const s=r.querySelectorAll(".js-search-results-item");let n=r.querySelector(".js-search-results");if(s?.length>0&&""!==t){this.liveSearchResults.innerHTML=n.innerHTML,root.classList.add("search-has-results"),this.searchResultMessage.classList.add("is-active"),this.searchResultMessage.classList.remove("is-empty");s.length;this.searchResultsWrapper.classList.add("is-live"),this.searchResultsWrapper.classList.remove("is-default")}else this.liveSearchResults.innerHTML="",root.classList.remove("search-has-results"),this.searchResultsWrapper.classList.remove("is-live"),this.searchResultsWrapper.classList.add("is-default"),this.searchResultMessage.classList.add("is-empty"),this.searchResultMessage.classList.add("is-active");this.searchResultsWrapper.classList.remove("is-loading"),this.prevQuery=t})).catch((t=>{console.error("Error:",t)}))},searchOpen:function(){root.classList.add("is-search-active"),this.search.querySelector('input[type="text"]').focus()},searchClose:function(){root.classList.remove("is-search-active")},searchReset:function(){this.searchResultsWrapper.classList.remove("is-live"),this.searchResultsWrapper.classList.remove("is-default"),this.searchResultMessage.classList.remove("is-active"),this.liveSearchResults.innerHTML="",this.searchResultCount.textContent="",this.prevQuery=null},init:function(){on("body","click",".js-search-trigger",(t=>{root.classList.contains("is-search-active")?this.searchClose():this.searchOpen()})),on("body","click",".js-search-reset",(t=>{this.searchReset()})),on("body","keydown","body",(t=>{"Escape"==t.key?this.searchClose():"f"!==t.key&&"k"!==t.key||!t.shiftKey||!t.metaKey&&!t.ctrlKey||this.searchOpen()})),on("body","submit",".js-search-form",(t=>{t.preventDefault()})),on("body","keyup",".g-search .js-search-input",(t=>{if("Space"===t.code)return;let e=t.target.value;throttle((()=>{this.liveSearch(e)}),750,0)})),"#search"===window.location.hash&&this.searchOpen()}},unitConverter={convert:function(t,e){t.querySelectorAll(".js-convert-value").forEach((t=>{const r=parseFloat(t.dataset.originalValue||t.textContent);if(isNaN(r))return;t.dataset.originalValue||(t.dataset.originalValue=r);const s="cm"===e?(2.54*r).toFixed(1):(r/2.54).toFixed(1);t.textContent=s})),t.querySelectorAll("[data-convert-trigger]").forEach((t=>{const r=t.getAttribute("data-convert-trigger")===e;t.classList.toggle("is-active",r)}))},handleClick:function(t){const e=t.target.closest("[data-convert-trigger]");if(!e)return;const r=e.dataset.convertTrigger,s=e.closest(".js-convert-parent");s&&this.convert(s,r)},init:function(){on("body","click","[data-convert-trigger]",(t=>{this.handleClick(t)}))}};function pop_email_init(){const t=document.getElementById("pop-email");console.log("ðŸš€ ~ pop_email_init ~ pop_email:",t);document.getElementById("pop-email_close");const e=document.getElementById("pop-email-notice"),r=document.documentElement;document.querySelector("header");let s=(new Date).getTime(),n=localStorage.getItem("setup_time");null===n?localStorage.setItem("setup_time",s):s-n>432e6&&(localStorage.removeItem("display_pop_ssdfk3"),localStorage.setItem("setup_time",s)),t.addEventListener("submit",(function(r){r.preventDefault();const s=new FormData(t);console.log("ðŸš€ ~ formData:",s);const n=new URLSearchParams(s).toString();fetch(t.getAttribute("action"),{method:t.getAttribute("method")||"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}).then((t=>(console.log("ðŸš€ ~ .then ~ response:",t),t.json()))).then((r=>{console.log("ðŸš€ ~ .then ~ data:",r),"success"!==r.result?(t.classList.add("error"),e.style.display="block",e.innerHTML=`<p>${r.msg}</p>`):(t.classList.remove("error"),t.style.display="none",e.style.display="block",e.innerHTML=`<p>${r.msg}</p>`,localStorage.setItem("display_pop_ssdfk3","closed"))})).catch((t=>{const e=document.querySelector('[name="email"]');e&&e.classList.add("error")}))})),"closed"!==localStorage.getItem("display_pop_ssdfk3")&&1!==window.location.hash.indexOf("noprm")&&setTimeout((function(){r.classList.add("pop_email_active")}),3e3),1===window.location.hash.indexOf("noprm")&&localStorage.setItem("display_pop_ssdfk3","closed")}cWysiwygShopify.init(),cItemVariants.init(),cItemSellingPlan.init(),cItemQuantity.init(),cProductForm.init(),cCart.init(),cFiltersSort.init(),gAnnouncement.init(),gSearch.init(),pAccount.init(),unitConverter.init(),document.addEventListener("DOMContentLoaded",(()=>{cInfiniteScroll.init(),ariaFocusManager.init()}));