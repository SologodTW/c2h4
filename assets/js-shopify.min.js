const global={sanitizePrice:function(t){return siteMoneyFormat.includes("amount_with_comma_separator")?t.replaceAll(/\.|\,/g,(function(t){return","==t?".":","})):t},formatSplitPrice:function(t){if(!t)return!1;const e=this.sanitizePrice(t).match(/([^0-9]*)([0-9,]+[\\\\.\\\\,]?[0-9]*)([^0-9]*)/);return{symbol:e[1],value:parseFloat(e[2].replace(/[\\\\,]/g,"")),currency:e[3]}},formatShopifyMoney:function(t){const e=Number(t).toFixed(2),s=siteMoneyFormat.includes("amount_with_comma_separator")?formatNumberEuro(e).replace(",00",""):formatNumberCommas(e).replace(".00","");return siteMoneyFormat.replace(/\{\{(.*?)\}\}/gs,s)}},cWysiwygShopify={init:function(){document.querySelector(".shopify-policy__body")?.firstElementChild.classList.add("wysiwyg","wysiwyg-page"),document.querySelectorAll(".wysiwyg meta[charset], .wysiwyg-page meta[charset]").forEach((t=>t.remove()))}},cItemVariants={updateVariantPillCurrentSelection:function(t,e,s){const r=t.closest(".js-variant-group").querySelector(".js-variant-pills-selected");r&&(r.dataset.label=e,r.dataset.labelCurrent=s)},init:function(){on("body","mouseover",".js-variant-group .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector");this.updateVariantPillCurrentSelection(e,e.value,e.dataset.label)})),on("body","mouseout",".c-product-form .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector"),s="INPUT"==e.tagName,r=document.querySelector(`[name="${e.name}"]${s?":checked":""}`);this.updateVariantPillCurrentSelection(e,"",r?r.dataset.label:"")}))}},cItemSellingPlan={init:function(){on("body","change",'.c-item-selling-plan input[type="radio"][name*="selling-plan-"]',(t=>{const e=t.target.closest('input[type="radio"][name*="selling-plan-"]');e.closest(".c-item-selling-plan").querySelector('[name="selling_plan"]').disabled="subscription"!=e.value}))}},cItemQuantity={updateQuantity:function(t,e){const s=t.querySelector('input[name="quantity"]'),r=t.querySelector('[data-trigger="decrease"]'),n=t.querySelector('[data-trigger="increase"]'),i=parseInt(s.value),o=e?Math.min(1,parseInt(s.max)-i):Math.max(-1,parseInt(s.min)-i),a=i+(void 0!==e?o:0),c="true"==s.dataset.leadingZero?formatPad(a):a;if(r.disabled=a<=s.min,n.disabled=a>=s.max,c!=s.value){s.value=c;const t=new Event("change");s.dispatchEvent(t)}},init:function(){on("body","click",".c-item-quantity [data-trigger]",(t=>{const e=t.target.closest("[data-trigger]"),s=e.closest(".c-item-quantity");this.updateQuantity(s,"increase"==e.dataset.trigger)}))}},cItemCardForm={validateVariantsJson:function(t){try{return JSON.parse(t.replace(/'/g,'"').trim())}catch(t){return console.error("Invalid variants JSON:",t),null}},updateThumbnailImage:function(t,e){const s=t.querySelectorAll("[data-card-target]"),r=t.querySelector(`[data-card-target="${e}"]`);if(!r)return null;s.forEach((t=>{t.classList.remove("is-active")})),r.classList.add("is-active")},updateCardUrl:function(t,e){const s=t.querySelector(".c-item-card__url");s?.href?s.href=e:console.warn("Card URL <a> tag not found or has no href")},init:function(){on("body","change",".js-item-card .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector"),s=e.closest(".js-item-card"),r=e.dataset.swatchUrl,n=e.dataset.swatchColor;this.updateThumbnailImage(s,n),this.updateCardUrl(s,r)}))}},cProductForm={updateVariantSpecificImage:function(t){if(!t||!t.variantObject.currentColor)return;const e=document.querySelector(".product-hero").querySelector(`[data-gallery-target="${t.variantObject.currentColor}"]`);getSiblings(e).forEach((t=>{t.classList.remove("is-active")})),e.classList.add("is-active")},saveVariantSelection:function(t,e,s){t.querySelectorAll(".js-variant-selector").forEach((t=>{const s="INPUT"==t.tagName?!!t.checked&&t.value:t.value;s&&e.variantTitle.push(s)})),e.variantIndex=s.findIndex((t=>t.title===e.variantTitle.join(" / "))),e.variantObject=s[e.variantIndex]},updatePrice:function(t,e){t.querySelectorAll(".c-item-price").forEach((t=>{const s=parseFloat(t.dataset.regularPriceAdj)||1,r=t.querySelector(".js-price-regular"),n=e.price;if(r){const{value:t}=global.formatSplitPrice(n),e=global.formatShopifyMoney(t*s);r.innerText=e}const i=t.querySelector(".js-price-compare");if(i){const t=e.priceCompare,{value:s}=global.formatSplitPrice(t),r=global.formatShopifyMoney(s);i.innerText=t&&t!=n?r:""}}))},updateQuantity:function(t,e){const s=e.inventory,r=t.querySelector('input[name="quantity"]');r&&(r.max=s),parseInt(r.value)>s&&0!=s&&(r.value=s);const n=t.querySelector(".c-item-quantity");cItemQuantity.updateQuantity(n)},updateFormId:function(t,e){const s=t.querySelector('input[name="id"]');console.log("ðŸš€ ~ inputId:",s),s.value=e.id},updateFormSubmitState:function(t,e){const s=t.querySelector(".js-form-submit");e.inventory<=0?(t.dataset.available=!1,s.disabled=!0):(t.dataset.available=!0,s.disabled=!1)},updateUrl:function(t){window.history.replaceState({},"",`?variant=${t.id}`)},updateVariantDisabledState:function(t,e){const s=t.querySelectorAll(".js-variant-group"),r=e.filter((t=>t.inventory>0));if(s.length<=1)return!1;const n=Array.from(s).map((t=>{const e=t.querySelector("input.js-variant-selector"),s=t.querySelector(".js-variant-selector"+(e?":checked":""));return!(!s||""==s.value)&&s.value}));if(n.includes(!1))return!1;Array.from(s).forEach(((t,e)=>{const s=t.querySelector("input.js-variant-selector");t.querySelectorAll(".js-variant-selector"+(s?":not(:checked)":" option:not(:checked)")).forEach((t=>{const s=[...n];s[e]=t.value;const i=r.some((t=>{const e=s.join(" / ");return t.title===e}));t.disabled=!i,"OPTION"===t.tagName&&(t.innerText=`${t.value}${i?"":" - sold out"}`)}))}))},initGiftCard:function(t){const e=t.querySelector(".js-gift-card-fields");if(e){const t=e.querySelector(".js-recipient-date"),s=e.querySelector(".js-recipient-email"),r=e.querySelector(".js-recipient-name"),n=e.querySelector(".js-recipient-message");on("body","click",".js-gift-card-toggle",(i=>{i.target.checked?(e.classList.add("is-active"),s.required=!0):(e.classList.remove("is-active"),s.required=!1,s.value=null,t.value=null,n.value=null,r.value=null)}));const i=t=>{let e=t.getDate(),s=t.getMonth()+1;return e<10&&(e="0"+e),s<10&&(s="0"+s),t.getFullYear()+"-"+s+"-"+e},o=90;let a=new Date,c=new Date;c=new Date(c.setDate(c.getDate()+o)),a=i(a),c=i(c),t.setAttribute("min",a),t.setAttribute("max",c),on("body","input",".js-recipient-date",(e=>{const s=t.validity;s.rangeUnderflow?t.setCustomValidity("Date must be today or later."):s.rangeOverflow&&t.setCustomValidity("Date must be within 90 days from today.")}))}},init:function(){document.querySelectorAll(".c-product-form").forEach((t=>{if(!t.dataset.variantsJson)return!1;const e=validateJson(t.dataset.variantsJson.replace(/'/g,'"').trim());"true"==t.dataset.updateVariantDisabledState&&this.updateVariantDisabledState(t,e);this.saveVariantSelection(t,{selectorIndex:null,variantTitle:[],variantIndex:null,variantObject:null},e),this.initGiftCard(t)})),on("body","change",".c-product-form .js-variant-selector",(t=>{const e=t.target.closest(".js-variant-selector").closest(".c-product-form"),s=validateJson(e.dataset.variantsJson.replace(/'/g,'"').trim()),r={selectorIndex:null,variantTitle:[],variantIndex:null,variantObject:null};e&&s&&this.saveVariantSelection(e,r,s),this.updateVariantSpecificImage(r);const n=r.variantObject;e&&n&&(this.updatePrice(e,n),this.updateQuantity(e,n),this.updateFormId(e,n),this.updateFormSubmitState(e,n),"true"==e.dataset.updateVariantUrl&&this.updateUrl(n),"true"==e.dataset.updateVariantDisabledState&&this.updateVariantDisabledState(e,s))}))}},cCart={updateCartStats:function(){fetch("/cart.js").then((t=>t.json())).then((t=>{const e=t.item_count;document.querySelectorAll(".js-cart-item-count").forEach((t=>{t.innerText=e})),e>0?root.classList.remove("is-cart-empty"):root.classList.add("is-cart-empty"),document.querySelectorAll(".c-cart").forEach((t=>t.setAttribute("data-item-count",e)));const s=t.total_price/100,r=`${formatNumberCommas(s.toFixed(2)).replace(".00","")}`;document.querySelectorAll(".js-cart-total-price").forEach((t=>{t.innerText=`$${r}`}));const n=document.querySelector(".js-freeshipping-threshold");if(n){const e=parseFloat(t.total_price/100);this.updateFreeShipping(e,n)}})).catch((t=>{console.error("Error:",t)}))},updateCartContent:function(){const t=document.querySelectorAll(".c-cart");t.forEach((t=>t.classList.add("is-content-updating"))),this.updateCartStats(),fetch("/cart").then((t=>t.text())).then((e=>{const s=parseHtmlString(e);t.forEach((t=>{t.innerHTML=s.querySelector(".c-cart").innerHTML,t.classList.remove("is-content-updating")})),this.initLineItem(),this.initUpsell()})).catch((t=>{console.error("Error:",t)}))},getLineItem:function(t){const e=t.closest(".c-line-item");return{item:e,key:e.dataset.itemKey}},getItemData:function(t){const e=t.querySelector('[name="id"]').value,s=t.querySelector('[name="quantity"]')?.value||1,r=t.querySelector('[name="selling_plan"]:not(:disabled)'),n=r?r.value:null,i={};t.querySelectorAll('[name*="properties["]').forEach((t=>{const e=t.name.match(/\[(.*?)\]/)[1];t.value&&(i[e]=t.value)}));return{id:e,quantity:s,selling_plan:n,properties:i}},addItems:function({items:t,updateCartContent:e=!0,updateCartStats:s=!1,callback:r}){fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})}).then((e=>(console.log("itemsitems",t),e))).then((()=>{e&&this?.updateCartContent(),s&&this?.updateCartStats(),r&&r()})).catch((t=>{console.error("Error:",t)}))},updateLineItems:function({items:t,updateCartContent:e=!1,updateCartStats:s=!0,callback:r}){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({updates:t})}).then((t=>{t.json()})).then((()=>{e&&this?.updateCartContent(),s&&this?.updateCartStats(),r&&r()})).catch((t=>{console.error("Error:",t)}))},isLineItemEventAttached:!1,initLineItem:function(t){const e=(t,e)=>{const s={};return s[t]=e,s};document.querySelectorAll('.c-line-item input[name="quantity"]').forEach((t=>{t.addEventListener("change",(t=>{const s=t.target.closest('input[name="quantity"]'),r=parseInt(s.value)||1,{key:n}=this.getLineItem(t.target),i=e(n,r);this.updateLineItems({items:i})}))})),this.isLineItemEventAttached||(this.isLineItemEventAttached=!0,on("body","click",".c-line-item .js-item-remove-trigger",(t=>{const{item:s,key:r}=this.getLineItem(t.target),n=e(r,0);this.updateLineItems({items:n}),s.classList.add("is-removed"),this.restoreUpsellItem(s)})),on("body","change",".c-line-item .js-variant-selector",(t=>{const s=t.target.closest(".js-variant-selector"),{item:r,key:n}=this.getLineItem(s);r.classList.add("is-variant-updating"),loader.updateProgress(root);const i="INPUT"==s.tagName?!!s.checked&&s.value:s.value,o=validateJson(r.dataset.variantsJson.replace(/'/g,'"').trim()),a=o.findIndex((t=>t.id===i)),c=o[a],l=this.getItemData(r);l.id=c.id,parseInt(l.quantity)>c.inventory&&(l.quantity=c.inventory);const u=()=>{fetch("/cart").then((t=>t.text())).then((t=>{const e=parseHtmlString(t).querySelector(".c-cart .c-line-item:first-child").dataset.itemKey;r.dataset.itemKey=e,((t,e)=>{cProductForm.updatePrice(t,e),cProductForm.updateQuantity(t,e),cProductForm.updateFormId(t,e);const s=t.querySelector(".js-item-thumb img");e.imageSrc&&s&&(s.src=e.imageSrc,s.srcset="")})(r,c),r.classList.remove("is-variant-updating"),loader.complete(root)})).catch((t=>{console.error("Error:",t)}))};this.addItems({items:[l],updateCartContent:!1,updateCartStats:!1,callback:()=>{const t=e(n,0);this.updateLineItems({items:t,callback:u})}})})))},updateCartNote:function(t){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({note:t})}).then((t=>t.json())).catch((t=>{console.error("Error:",t)}))},updateGiftWrap:function(t={}){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({attributes:t})}).then((t=>t.json())).catch((t=>{console.error("Error:",t)}))},updateDiscount:function(t){function e(t){const e=document.querySelector(".g-minicart__content");[...e.querySelectorAll("button"),...e.querySelectorAll("input")].forEach((e=>t?e.setAttribute("disabled","disabled"):e.removeAttribute("disabled")))}e(!0),fetch(`/discount/${t}`).then((()=>fetch("/cart"))).then((t=>t.text())).then((function(t){const e=(new DOMParser).parseFromString(t,"text/html"),s=document.querySelector(".c-cart"),r=e.querySelector(".c-cart"),n=t=>{const e=s.querySelectorAll(t),n=r.querySelectorAll(t);e.length>0&&n.length>0&&e.forEach(((t,e)=>t.innerHTML=n[e].innerHTML))};n(".js-line-item-price"),n(".js-cart-total-price"),function(t,e){const s=e.querySelector(".js-cart-discount-success"),r=t.querySelector(".js-cart-discount"),n=(r.dataset.success,r.dataset.error);if(s&&r)r.outerHTML=s.outerHTML;else if(!s&&r){const t=r.querySelector(".js-cart-discount-input");t.value="",t.placeholder=n}}(s,r)})).catch((t=>{console.error("Error:",t)})).finally((()=>{e(!1)}))},isUpsellInit:!1,upsellProductHandles:[],initUpsell:async function(){const t=document.querySelector(".js-upsell");if(!t)return;const e=document.querySelector(".js-upsell-item-list");null==e.querySelector(".js-upsell-item-form")&&await this.createUpsell(e);const s=this.filterUpsellItems();this.isUpsellInit||(this.isUpsellInit=!0,this.storeUpsellProducts(),this.activeUpsellNavigation(t)),this.toggleUpsellVisibility(s)},createUpsell:async function(t){const e=[...document.querySelectorAll(".js-line-item")]?.map((t=>t.getAttribute("data-product-id")));if(0===e.length)return void document.querySelector(".js-upsell").classList.add("is-no-upsell-items");const s=await this.fetchUpsellItems(e);if(0===s.length)return;const r=this.createUpsellItemCards(s);return r?.forEach((e=>{t?.appendChild(e)})),this.storeUpsellProducts(),this.createUpsellDots(r.length),s},fetchUpsellItems:async function(t){if(0===t.length)return[];return(await Promise.all(t.map((async e=>{const s=await fetch(window.Shopify.routes.root+`recommendations/products.json?product_id=${e}&intent=related`);return[...(await s.json()).products.filter((e=>e.available&&!t.includes(e.id)))]})))).flat().filter(((t,e,s)=>e===s.findIndex((e=>e.id===t.id))))},toggleUpsellVisibility:function(t){const e=document.querySelector(".js-upsell");e&&(e.classList.toggle("has-upsell-items",t?.length>0),e.classList.toggle("is-only-one-upsell-item",1===t?.length))},createUpsellItemCards:function(t){return t.map(((t,e)=>{const s=t.variants.find((t=>t.available)),r=`\n\t\t\t\t<form\n\t\t\t\t\tclass="c-upsell-item c-product-form js-upsell-item-form ${0===e&&"is-active"}"\n\t\t\t\t\taction="/cart/add"\n\t\t\t\t\tmethod="post"\n\t\t\t\t\tdata-product-id="${s.id}"\n\t\t\t\t\tdata-product-handle="${t.handle}"\n\t\t\t\t>\n\t\t\t\t\t<p class="c-upsell-item__header">\n\t\t\t\t\t\tYou may like this\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<div class="c-upsell-item__item f-h f-a-s">\n\t\t\t\t\t\t<div class="c-upsell-item__thumb">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref="${t.url}"\n\t\t\t\t\t\t\t\tclass="object-fit bg-subtle"\n\t\t\t\t\t\t\t\ttitle="${t.title}"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t${t.featured_image?`<img src="${window.Shopify.routes.root+t.featured_image}">`:""}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="c-upsell-item__info f-v">\n\t\t\t\t\t\t\t<div class="c-upsell-item__title">\n\t\t\t\t\t\t\t\t${s.name}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="c-upsell-item__price">\n\t\t\t\t\t\t\t\t$${s.price/100}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype="submit"\n\t\t\t\t\t\t\t\tclass="c-upsell-item__add btn-underline js-form-submit"\n\t\t\t\t\t\t\t\taria-label="Add item to cart"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdd to cart\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t<input type="hidden" name="id" value="${s.id}">\n\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype="hidden"\n\t\t\t\t\t\t\t\tname="properties[_upsell]"\n\t\t\t\t\t\t\t\tvalue="true"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t`,n=document.createElement("div");return n.innerHTML=r,n.firstElementChild}))},createUpsellDots(t){const e=document.querySelector(".js-upsell-dot-group");t<=1||!e||Array.from({length:t}).forEach(((t,s)=>{const r=document.createElement("button");r.classList="c-cart__upsell__dot js-upsell-dot "+(0===s?"is-active":""),e.appendChild(r)}))},activeUpsellNavigation:function(t){const e=t.querySelector(".js-upsell-arrow"),s=t.querySelector(".js-upsell-dot-group");e?this.activeUpsellArrowNav():s&&this.activeUpsellDotsNav()},activeUpsellArrowNav:function(){let t=0;const e=(t,e)=>t.forEach(((t,s)=>t.classList.toggle("is-active",s===e)));on("body","click",".js-upsell-arrow-left",(()=>{const s=document.querySelectorAll(".js-upsell-item-form");t--,t<0&&(t=s?.length-1),e(s,t)})),on("body","click",".js-upsell-arrow-right",(()=>{const s=document.querySelectorAll(".js-upsell-item-form");t++,t>s?.length-1&&(t=0),e(s,t)}))},activeUpsellDotsNav:function(){on("body","click",".js-upsell-dot",(t=>{const e=document.querySelectorAll(".js-upsell-item-form");e.forEach((t=>t.classList.remove("is-active")));const s=t.target.closest(".js-upsell-dot"),r=Array.from(s.parentNode.children);r.forEach((t=>t.classList.remove("is-active"))),s.classList.add("is-active");e[r.indexOf(s)]?.classList.add("is-active")}))},filterUpsellItems:function(){const t=[...document.querySelectorAll(".js-line-item")],e=[...document.querySelectorAll(".js-upsell-item-form")];if(0==t.length||0==e.length)return;e.filter((e=>t.find((t=>e.getAttribute("data-product-handle")==t.getAttribute("data-product-handle"))))).forEach((t=>t.remove()));const s=document.querySelectorAll(".js-upsell-item-form");s[0]?.classList.add("is-active");const r=document.querySelector(".js-upsell-dot-group");return r&&(r.innerHTML="",this.createUpsellDots(s.length)),s},restoreUpsellItem:function(t){if(null==document.querySelector(".js-upsell"))return;const e=t.getAttribute("data-product-handle");0!=this.upsellProductHandles.includes(e)&&fetch(window.Shopify.routes.root+`products/${e}.js`).then((t=>t.json())).then((t=>{const e=this.createUpsellItemCards([t])[0],s=document.querySelector(".js-upsell-item-list");s.querySelectorAll(".js-upsell-item-form").forEach((t=>t.classList.remove("is-active"))),s.insertBefore(e,s.firstChild);const r=document.querySelector(".js-upsell-dot-group");if(r){r.innerHTML="";const t=document.querySelectorAll(".js-upsell-item-form").length;this.createUpsellDots(t)}const n=document.querySelectorAll(".js-upsell-item-form");this.toggleUpsellVisibility(n)}))},storeUpsellProducts:function(){this.upsellProductHandles.length>0||(this.upsellProductHandles=[...document.querySelectorAll(".js-upsell-item-form")].map((t=>t.getAttribute("data-product-handle"))))},updateFreeShipping:function(t,e){const s=parseFloat(e.dataset.freeshippingThreshold),r=e.querySelector(".js-freeshipping-progress-bar"),n=e.querySelector(".js-freeshipping-diff");e.classList.toggle("is-freeshipping",t>=s);const i=s-t,o=global.formatShopifyMoney(i).replace(".00","").replace(/[^$\d,\.]/g,"");n.innerHTML=o,r.style.width=t>s?"100%":`${(t/s*100).toFixed(0)}%`},getMinicartDom:function(){return document.querySelector(".g-minicart")},minicartClose:function(){root.classList.remove("is-minicart-active"),history.replaceState(null,null," "),scrollEnable(),this.getMinicartDom()?.setAttribute("aria-hidden","true")},minicartOpen:function(){root.classList.add("is-minicart-active"),history.replaceState(null,null,"#cart"),scrollDisable(),this.getMinicartDom()?.setAttribute("aria-hidden","false"),this.updateAriaHiddenInCart()},initMinicart:function(){this.getMinicartDom()?.setAttribute("aria-hidden","true"),on("body","click",".js-minicart-close",this.minicartClose.bind(this)),on("body","click",".js-minicart-open",this.minicartOpen.bind(this)),on("body","click",".js-minicart-toggle",(t=>{root.classList.contains("is-minicart-active")?this.minicartClose():this.minicartOpen()})),on("body","keydown","body",(t=>{"Escape"==t.key&&this.minicartClose()})),"#cart"==location.hash&&this.minicartOpen()},updateAriaHiddenInCart:function(t=!1){document.querySelectorAll(".c-cart").forEach((e=>{const s=parseInt(e.dataset?.itemCount,10)||0,r=e.querySelector(".js-cart-empty"),n=e.querySelector(".js-cart-wrapper");t?(r.setAttribute("aria-hidden","true"),n.setAttribute("aria-hidden","true")):(r.setAttribute("aria-hidden",s>0),n.setAttribute("aria-hidden",s<=0))}))},updateFocusableElementsInCart:function(t,e){t&&(t.querySelector(".js-cart-empty").setAttribute("aria-hidden",e>0),t.querySelector(".js-cart-wrapper").setAttribute("aria-hidden",e<=0))},observeAriaHiddenChanges:function(){const t=this.getMinicartDom();if(!t)return;new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"aria-hidden"===e.attributeName){const e="true"===t.getAttribute("aria-hidden");this.updateAriaHiddenInCart(e)}}))})).observe(t,{attributes:!0,attributeFilter:["aria-hidden"]})},init:function(){on("body","submit",'form[action="/cart/add"]',(t=>{t.preventDefault();const e=t.target.closest('form[action="/cart/add"]'),s=this.getItemData(e);loader.updateProgress(root),this.addItems({items:[s],callback:()=>{loader.complete(root),this.minicartOpen()}})})),this.observeAriaHiddenChanges(),on("body","change",".js-cart-note-text",(t=>{const e=document.querySelector(".js-cart-note-checkbox"),s=t.target.value;s&&e.checked&&this.updateCartNote(s)})),on("body","change",".js-cart-note-checkbox",(t=>{const e=document.querySelector(".js-cart-note-text");t.target.checked?(e.classList.add("is-active"),this.updateCartNote(e.value)):(e.classList.remove("is-active"),this.updateCartNote(""))})),on("body","change",".js-cart-gift-wrap-checkbox",(t=>{const e=t.target.closest(".js-cart-gift-wrap-checkbox").checked?{"Gift wrap":"Yes"}:{"Gift wrap":"No"};this.updateGiftWrap(e)})),on("body","submit",".js-cart-discount",(t=>{t.preventDefault();const e=t.target.querySelector(".js-cart-discount-input").value;this.updateDiscount(e)})),this.initLineItem(),this.initUpsell(),this.initMinicart()}},cInfiniteScroll={createNewInfiniteScroll(t){let e=t.dataset.infiniteScrollId,s=t.querySelector(`.js-infinite-scroll-grid-${e}`);if(!t.querySelector(`.js-infinite-scroll-next-${e}`))return null;let r=InfiniteScroll.data(s);return r&&r.destroy(),new InfiniteScroll(s,{path:`.js-infinite-scroll-next-${e}`,append:`.js-infinite-scroll-item-${e}`,scrollThreshold:400,history:!1})},init(){document.querySelectorAll(".js-infinite-scroll").forEach((t=>{let e=cInfiniteScroll.createNewInfiniteScroll(t);if(!e)return;let s=t.querySelector(".c-pagination__message");e.on("scrollThreshold",(()=>{initLoadingBar("start")})),e.on("request",(t=>{initLoadingBar("move")})),e.on("append",(()=>{initLoadingBar("done")})),e.on("error",(()=>{initLoadingBar("done")})),e.on("last",(()=>{s&&(s.innerHTML=""),initLoadingBar("done")}))}))}},cFiltersSort={getPriceRangeSelections:function(t){const e=[];return t.closest(".c-filters-sort").querySelectorAll('input[type="number"]').forEach((t=>{t.value&&e.push({name:t.name,value:t.value})})),e},getFiltersSelection:function(t){const e=[];return t.closest(".c-filters-sort").querySelectorAll('input[type="checkbox"]:checked').forEach((t=>{t.value&&e.push({name:t.name,value:t.value})})),e},getSortSelection:function(t){const e=t.closest(".c-filters-sort").querySelector("select");return!(!e||"manual"==e.value)&&e.value},getFilterSortUrl:function(t){const e=this.getPriceRangeSelections(t).map((t=>`${t.name}=${t.value}`)).join("&"),s=this.getFiltersSelection(t).map((t=>`${t.name}=${t.value}`)).join("&"),r=this.getSortSelection(t),n=!!r&&`sort_by=${r}`,i=[];e&&i.push(e),s&&i.push(s),n&&i.push(n);return encodeURI(i.join("&"))},updateCount:function(){const t=new URLSearchParams(window.location.search);let e=0;for(const[s,r]of t.entries())(s.startsWith("filter.")||"sort_by"===s)&&e++;root.classList.toggle("is-filter-active",e>0),document.querySelectorAll(".js-filters-count").forEach((t=>{t.textContent=`(${e})`}))},updateFilterSort:function({urlParamString:t,elTarget:e,replaceState:s,reinitPanel:r=!1}){loader.updateProgress(root),root.classList.add("is-filters-sort-updating");const n=new URLSearchParams(window.location.search),i=new URLSearchParams;for(const[t,e]of n.entries())t.includes("filter")||t.includes("sort_by")||i.append(t,e);const o=[Array.from(i).map((t=>`${t[0]}=${t[1]}`)).join("&"),t].filter(Boolean).join("&"),a=encodeURI(o);fetch(`?${a}`).then((t=>t.text())).then((t=>{const s=parseHtmlString(t),n=Array.from(s.querySelectorAll(".js-filters-sort-update")),i=e?e.closest(".js-filters-sort-update"):null;if(document.querySelectorAll(".js-filters-sort-update").forEach(((t,e)=>{t!=i&&n[e]&&(t.innerHTML=n[e].innerHTML)})),r){const t=document.querySelector(".js-filters-sort-panel");this.panelUpdate(t)}this.panelFilterSortUpdate(),loader.complete(root),root.classList.remove("is-filters-sort-updating"),cInfiniteScroll.init(),this.updateCount()})).catch((t=>{console.error("Error:",t)})),s?window.history.replaceState({},"",`?${a}`):window.history.pushState({},"",`?${a}`)},updateSortCurrent:function(t){const e=t.closest(".js-filters-sort-dropdown-sorting");e&&(e.querySelector(".js-filter-dropdown-toggle").dataset.current="manual"==t.value?"":`: ${t.options[t.selectedIndex].text}`)},panelClose:function(){root.classList.remove("is-filters-sort-panel-active")},panelOpen:function(){root.classList.add("is-filters-sort-panel-active")},panelFilterSortUpdate:function(){const t=document.querySelectorAll(".c-filters-sort__selection .js-filters-sort-update");document.querySelectorAll(".js-filters-sort-panel-body .js-filters-sort-update").forEach(((e,s)=>{e.innerHTML=t[s].innerHTML})),document.querySelector(".c-filters-sort .js-filters-sort-panel-active").innerHTML=document.querySelector(".c-filters-sort .js-filters-sort-active").innerHTML},panelUpdate:function(t){if(!t)return!1;const e=t.querySelector(".js-filters-sort-panel-body");e.innerHTML="",document.querySelectorAll(".c-filters-sort .js-filters-sort-dropdown").forEach((t=>{const s=t.cloneNode(!0);e.appendChild(s)})),t.querySelectorAll(".js-filters-sort-dropdown").forEach((t=>{t.classList.remove("tablet-up-only"),t.querySelectorAll("input").forEach((t=>{t.id=`panel-${t.id}`})),t.querySelectorAll("label").forEach((t=>{t.htmlFor=`panel-${t.htmlFor}`}))}))},initPanel:function(){const t=document.querySelector(".js-filters-sort-panel"),e=t.cloneNode(!0);e.classList.add("c-filters-sort"),document.body.appendChild(e),t.remove(),this.panelUpdate(e),this.panelFilterSortUpdate(),this.updateCount(),on("body","click",".js-filters-sort-panel-close",this.panelClose),on("body","click",".js-filters-sort-panel-open",this.panelOpen),on("body","click",".js-filters-sort-panel-toggle",(t=>{root.classList.contains("is-filters-sort-panel-active")?this.panelClose():this.panelOpen()})),on("body","keydown","body",(t=>{"Escape"==t.key&&this.panelClose()}))},init:function(){document.querySelector(".js-filters-sort-panel")&&this.initPanel(),on("body","click","body",(t=>{const e=t.target,s=e.closest(".js-filter-dropdown-toggle");document.querySelectorAll(".js-filters-sort-dropdown").forEach((t=>{const r=t.querySelector(".js-filter-dropdown-toggle");s&&s==r?t.classList.toggle("is-dropdown-active"):!e.closest(".js-filters-sort-dropdown-content")&&t.classList.remove("is-dropdown-active")}))})),on("body","change",".js-filter-input",(t=>{this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:t.target})})),on("body","click",".js-filter-apply",(t=>{this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:t.target})})),on("body","submit",".js-filter-form",(t=>{t.preventDefault(),this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:t.target})})),on("body","change",".js-sort-selector",(t=>{const e=t.target.closest("select");this.updateFilterSort({urlParamString:this.getFilterSortUrl(t.target),target:e}),this.updateSortCurrent(e)})),window.addEventListener("popstate",(t=>{document.querySelector(".js-filter-form")&&this.updateFilterSort({urlParamString:location.search.replace("?",""),replaceState:!0})})),on("body","click",".js-filter-remove",(t=>{t.preventDefault();const e=t.target.closest(".js-filter-remove"),s=e.dataset.url.replace(`${location.pathname}`,"").replace("?","");e.remove(),this.updateFilterSort({urlParamString:s,elTarget:e,reinitPanel:!0})})),on("body","click",".js-filter-remove-all",(t=>{t.preventDefault(),this.updateFilterSort({urlParamString:null,reinitPanel:!0})}))}},gAnnouncement={announcement:document.querySelector(".g-announcement"),dots:document.querySelector(".g-announcement .js-announcement-dots"),disableAutoplay:function(){this.announcement.classList.add("is-autoplay-disabled")},enableAutoplay:function(){this.announcement.classList.remove("is-autoplay-disabled")},autoplayInterval:null,autoplay:function(){if(!this.dots||!this.dots.dataset.autoplay)return!1;const t=this.dots.querySelectorAll("[data-announcement-trigger]"),e=parseInt(this.dots.dataset.autoplayInterval);on("body","mouseover",".g-announcement",(()=>{this.disableAutoplay()})),on("body","mouseout",".g-announcement",(()=>{this.enableAutoplay()})),this.autoplayInterval=setInterval((()=>{if(this.announcement.classList.contains("is-autoplay-disabled"))return!1;const e=this.dots.querySelector("[data-announcement-trigger].is-active"),s=parseInt(e.dataset.announcementTrigger),r=s<t.length-1?s+1:0;this.updateActiveMessage(r)}),1e3*e)},updateAnnouncementHeight:function(){const t=this.announcement.querySelector(".js-announcement-block.is-active");t&&(this.announcement.querySelector(".js-announcement-blocks").style.height=`${t.offsetHeight}px`),root.style.setProperty("--s-announcement-dynamic",`${this.announcement?this.announcement.offsetHeight:0}px`)},updateActiveMessage:function(t){this.announcement.querySelectorAll(".js-announcement-block").forEach(((e,s)=>{s==t?e.classList.add("is-active"):e.classList.remove("is-active")})),this.announcement.querySelectorAll("[data-announcement-trigger]").forEach(((e,s)=>{s==t?e.classList.add("is-active"):e.classList.remove("is-active")})),this.updateAnnouncementHeight()},init:function(){this.announcement&&this.announcement.children.length>0&&(this.autoplay(),this.updateAnnouncementHeight(),on("body","click","[data-announcement-trigger]",(t=>{const e=t.target.closest("[data-announcement-trigger]"),s=parseInt(e.dataset.announcementTrigger);this.updateActiveMessage(s),clearInterval(this.autoplayInterval)})))}},pAccount={recoverClose:function(){root.classList.remove("is-account-recover-active"),history.replaceState(null,null," ");const t=document.querySelector("#account-recover-email");autoFocus&&t&&t.blur()},recoverOpen:function(t=!0){root.classList.add("is-account-recover-active"),history.replaceState(null,null,"#recover");const e=document.querySelector("#account-recover-email");t&&e&&e.focus()},init:function(){on("body","click",".js-account-recover-close",this.recoverClose),on("body","click",".js-account-recover-open",this.recoverOpen),on("body","click",".js-account-recover-toggle",(t=>{root.classList.contains("is-account-recover-active")?this.recoverClose():this.recoverOpen()})),"#recover"==location.hash&&this.recoverOpen(!1)}};pAccount.init();const gSearch={search:document.querySelector(".g-search"),searchResultsWrapper:document.querySelector(".g-search .js-search-results-wrapper"),liveSearchResults:document.querySelector(".g-search .js-live-search-results"),defaultSearchResults:document.querySelector(".g-search .js-default-search-results"),searchResultMessage:document.querySelector(".g-search .js-search-result-message"),searchResultEmpty:document.querySelector(".g-search .js-search-result-empty"),searchResultCount:document.querySelector(".g-search .js-search-result-count"),prevQuery:null,setMessageBoxHeight:function(){this.searchResultMessage.classList.contains("is-empty")?this.searchResultMessage.style.height=`${this.searchResultEmpty.scrollHeight}px`:this.searchResultMessage.style.height=`${this.searchResultCount.scrollHeight}px`},liveSearch:function(t){if(""===t||t===this.prevQuery)return;let e=`/search?q=${encodeURIComponent(t)}&type=product`;this.searchResultsWrapper.classList.add("is-loading"),fetch(e).then((function(t){return t.text()})).then((e=>{let s=(new DOMParser).parseFromString(e,"text/html");const r=s.querySelectorAll(".js-search-results-item");let n=s.querySelector(".js-search-results");if(r?.length>0&&""!==t){this.liveSearchResults.innerHTML=n.innerHTML,root.classList.add("search-has-results"),this.searchResultMessage.classList.add("is-active"),this.searchResultMessage.classList.remove("is-empty");r.length;this.searchResultsWrapper.classList.add("is-live"),this.searchResultsWrapper.classList.remove("is-default")}else this.liveSearchResults.innerHTML="",root.classList.remove("search-has-results"),this.searchResultsWrapper.classList.remove("is-live"),this.searchResultsWrapper.classList.add("is-default"),this.searchResultMessage.classList.add("is-empty"),this.searchResultMessage.classList.add("is-active");this.searchResultsWrapper.classList.remove("is-loading"),this.prevQuery=t})).catch((t=>{console.error("Error:",t)}))},searchOpen:function(){root.classList.add("is-search-active"),this.search.querySelector('input[type="text"]').focus()},searchClose:function(){root.classList.remove("is-search-active")},searchReset:function(){this.searchResultsWrapper.classList.remove("is-live"),this.searchResultsWrapper.classList.remove("is-default"),this.searchResultMessage.classList.remove("is-active"),this.liveSearchResults.innerHTML="",this.searchResultCount.textContent="",this.prevQuery=null},init:function(){on("body","click",".js-search-trigger",(t=>{root.classList.contains("is-search-active")?this.searchClose():this.searchOpen()})),on("body","click",".js-search-reset",(t=>{this.searchReset()})),on("body","keydown","body",(t=>{"Escape"==t.key?this.searchClose():"f"!==t.key&&"k"!==t.key||!t.shiftKey||!t.metaKey&&!t.ctrlKey||this.searchOpen()})),on("body","submit",".js-search-form",(t=>{t.preventDefault()})),on("body","keyup",".g-search .js-search-input",(t=>{if("Space"===t.code)return;let e=t.target.value;throttle((()=>{this.liveSearch(e)}),750,0)})),"#search"===window.location.hash&&this.searchOpen()}},unitConverter={convert:function(t,e){t.querySelectorAll(".js-convert-value").forEach((t=>{const s=parseFloat(t.dataset.originalValue||t.textContent);if(isNaN(s))return;t.dataset.originalValue||(t.dataset.originalValue=s);const r="cm"===e?(2.54*s).toFixed(1):(s/2.54).toFixed(1);t.textContent=r})),t.querySelectorAll("[data-convert-trigger]").forEach((t=>{const s=t.getAttribute("data-convert-trigger")===e;t.classList.toggle("is-active",s)}))},handleClick:function(t){const e=t.target.closest("[data-convert-trigger]");if(!e)return;const s=e.dataset.convertTrigger,r=e.closest(".js-convert-parent");r&&this.convert(r,s)},init:function(){on("body","click","[data-convert-trigger]",(t=>{this.handleClick(t)}))}};function pop_email_init(){const t=document.getElementById("pop-email"),e=(document.getElementById("pop-email_close"),document.getElementById("pop-email-notice")),s=document.documentElement;document.querySelector("header");let r=(new Date).getTime(),n=localStorage.getItem("setup_time");null===n?localStorage.setItem("setup_time",r):r-n>432e6&&(localStorage.removeItem("display_pop_ssdfk3"),localStorage.setItem("setup_time",r)),t.addEventListener("submit",(function(s){s.preventDefault();const r=new FormData(t),n=new URLSearchParams(r).toString();fetch(t.getAttribute("action"),{method:t.getAttribute("method")||"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}).then((t=>t.json())).then((s=>{"success"!==s.result?(t.classList.add("error"),e.style.display="block",e.innerHTML=`<p>${s.msg}</p>`):(t.classList.remove("error"),t.style.display="none",e.style.display="block",e.innerHTML=`<p>${s.msg}</p>`,localStorage.setItem("display_pop_ssdfk3","closed"))})).catch((t=>{const e=document.querySelector('[name="email"]');e&&e.classList.add("error")}))})),"closed"!==localStorage.getItem("display_pop_ssdfk3")&&1!==window.location.hash.indexOf("noprm")&&setTimeout((function(){s.classList.add("pop_email_active")}),3e3),1===window.location.hash.indexOf("noprm")&&localStorage.setItem("display_pop_ssdfk3","closed")}class CustomSelect{constructor(t){this.element=t,this.trigger=t.querySelector(".c-custom-select__trigger"),this.valueElement=t.querySelector(".c-custom-select__value"),this.dropdown=t.querySelector(".c-custom-select__dropdown"),this.options=t.querySelectorAll(".c-custom-select__option"),this.isOpen=!1,this.selectedValue="",this.selectedText="",this.init()}init(){const t=this.element.querySelector(".c-custom-select__option--selected");t&&(this.selectedValue=t.dataset.value,this.selectedText=t.textContent.trim(),this.element.setAttribute("data-value",this.selectedValue)),this.bindEvents()}bindEvents(){this.trigger.addEventListener("click",(t=>{t.preventDefault(),this.toggle()})),this.trigger.addEventListener("keydown",(t=>{"Enter"===t.key||" "===t.key?(t.preventDefault(),this.toggle()):"ArrowDown"===t.key?(t.preventDefault(),this.open(),this.focusFirstOption()):"Escape"===t.key&&this.close()})),this.options.forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),t.classList.contains("c-custom-select__option--disabled")||this.selectOption(t)})),t.addEventListener("keydown",(e=>{"Enter"===e.key||" "===e.key?(e.preventDefault(),t.classList.contains("c-custom-select__option--disabled")||this.selectOption(t)):"ArrowDown"===e.key?(e.preventDefault(),this.focusNextOption(t)):"ArrowUp"===e.key?(e.preventDefault(),this.focusPrevOption(t)):"Escape"===e.key&&(this.close(),this.trigger.focus())}))})),document.addEventListener("click",(t=>{this.element.contains(t.target)||this.close()})),document.addEventListener("keydown",(t=>{"Escape"===t.key&&this.isOpen&&(this.close(),this.trigger.focus())}))}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen||(this.isOpen=!0,this.element.classList.add("c-custom-select--open"),this.trigger.setAttribute("aria-expanded","true"),document.querySelectorAll(".c-custom-select--open").forEach((t=>{if(t!==this.element){const e=t.customSelectInstance;e&&e.close()}})))}close(){this.isOpen&&(this.isOpen=!1,this.element.classList.remove("c-custom-select--open"),this.trigger.setAttribute("aria-expanded","false"))}selectOption(t){const e=t.dataset.value,s=t.textContent.trim();this.options.forEach((t=>t.classList.remove("c-custom-select__option--selected"))),t.classList.add("c-custom-select__option--selected"),this.selectedValue=e,this.selectedText=s,this.valueElement.textContent=s,this.element.setAttribute("data-value",e);const r=new CustomEvent("change",{detail:{value:e,text:s},bubbles:!0});this.element.dispatchEvent(r),this.close(),this.trigger.focus()}focusFirstOption(){const t=this.dropdown.querySelector(".c-custom-select__option:not(.c-custom-select__option--disabled)");t&&(t.tabIndex=0,t.focus())}focusNextOption(t){const e=Array.from(this.options).filter((t=>!t.classList.contains("c-custom-select__option--disabled"))),s=e.indexOf(t),r=s<e.length-1?s+1:0;e[r].tabIndex=0,e[r].focus(),t.tabIndex=-1}focusPrevOption(t){const e=Array.from(this.options).filter((t=>!t.classList.contains("c-custom-select__option--disabled"))),s=e.indexOf(t),r=s>0?s-1:e.length-1;e[r].tabIndex=0,e[r].focus(),t.tabIndex=-1}getValue(){return this.selectedValue}getText(){return this.selectedText}setValue(t){const e=this.element.querySelector(`[data-value="${t}"]`);e&&!e.classList.contains("c-custom-select__option--disabled")&&this.selectOption(e)}}function getCustomSelectValue(t){return document.querySelector(t)?.customSelectInstance?.getValue()||""}function setCustomSelectValue(t,e){document.querySelector(t)?.customSelectInstance?.setValue(e)}cWysiwygShopify.init(),cItemVariants.init(),cItemSellingPlan.init(),cItemQuantity.init(),cItemCardForm.init(),cProductForm.init(),cCart.init(),cFiltersSort.init(),gAnnouncement.init(),gSearch.init(),pAccount.init(),unitConverter.init(),document.addEventListener("DOMContentLoaded",(()=>{cInfiniteScroll.init(),ariaFocusManager.init();const t=document.querySelectorAll(".c-custom-select");t.length>0&&t.forEach((t=>{const e=new CustomSelect(t);t.customSelectInstance=e,t.addEventListener("change",(t=>{console.log("Selection changed:",t.detail)}))}))}));